!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=9)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.events=n,this.$container=document.querySelector(".container > div"),this.$section=this.el("section"),this.$header=this.el("header"),this.$main=this.el("main"),this.$footer=this.el("footer"),this.$container.appendChild(this.$section),this.$section.appendChild(this.$header),this.$section.appendChild(this.$main),this.$section.appendChild(this.$footer),this.$section.classList.add(this._name),this._activeSection=null}return r(e,[{key:"toggleSections",value:function(){var e=this.$container.querySelector("section.active");e&&e.classList.remove("active"),this.$section.classList.add("active"),this.$container.className="active-"+this._name,this._activeSection=this._name}},{key:"remove",value:function(){this.$section.remove()}},{key:"userSpan",value:function(e,t){var n=e.id===this.player.id?"you":"",r=e.id===this.player.id?"You":e.name;return t&&(n+=" "+t),'<span class="user '+n+'"><img src="'+e.image+'" /> '+r+"</span>"}},{key:"renderDead",value:function(e){this.player.capitalizedRole;e.innerHTML="You're dead and will resurrect at the end of the Round."}},{key:"el",value:function(e,t,n){var r=document.createElement(e);return t&&(r.innerHTML=t),n&&(r.className=n),r}},{key:"append",value:function(e,t){t.forEach(function(t){e.appendChild(t)})}},{key:"_capitalize",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"events",set:function(e){this._eventsList.forEach(function(t){e[t]||console.error('Renderer Missing Event "'+t+'"')}),this._events=e},get:function(){return this._events}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(7)),i=function(e){function t(e){var n=e.clickEvent,r=e.content,a=void 0===r?"":r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.$el=i.el("button",a),n&&i.$el.addEventListener("click",function(){return n()}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"enable",value:function(){this.$el.removeAttribute("disabled")}},{key:"disable",value:function(){this.$el.setAttribute("disabled",!0)}},{key:"content",value:function(e){this.$el.innerHTML=e}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4).env,i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"r",value:function(e){var t="string"==typeof e?e:e.join("/");return a+"/"+this._key+"/"+t}},{key:"db",get:function(){return firebase.database()}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(10)),i=r(n(11)),o=r(n(13)),s=r(n(14)),l={App:new a.default,Games:new i.default,Players:new o.default,Users:new s.default};t.default=l},function(e,t,n){"use strict";e.exports={env:"production"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(7)),i=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"flex-list";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.$title=n.el("p",null,"label"),n.$ul=n.el("ul",null,e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"add",value:function(e){this.$ul.appendChild(this.el("li",e))}},{key:"title",value:function(e){this.$title.innerHTML=e}},{key:"instruction",value:function(e){this.$instruction.innerHTML=e}},{key:"reset",value:function(){this.title(""),this.$ul.innerHTML=""}},{key:"elements",get:function(){return[this.$title,this.$ul]}}]),t}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(18)),i=r(n(19)),o=r(n(20)),s=r(n(21)),l=r(n(22)),u=r(n(23)),c=r(n(24)),d=r(n(25)),h={NewVersion:a.default,Auth:i.default,Launch:o.default,Start:s.default,Turns:l.default,Reveal:u.default,Votes:c.default,Results:d.default};t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"el",value:function(e,t,n){var r=document.createElement(e);return t&&(r.innerHTML=t),n&&(r.className=n),r}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(r(n(3)),r(n(26))),o=r(n(27)),s=function(){function e(t){var n=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=n,this.id=n.gameId,this.playerId=n.playerId,this._={},this.topicGenerator=new i.default}return a(e,[{key:"detectAllVotesSubmitted",value:function(){return Object.keys(this._.votes).length===this._.playerCountAlive}},{key:"calculateRoundOverData",value:function(e){var t={impostor:0,agent:0},n={impostor:0,agent:0},r=[],a=[];for(var i in e){var o=e[i]._.role;e[i]._.alive?(n[o]++,r.push(i)):(t[o]++,a.push(i))}return{aliveCounts:n,aliveIds:r,deadCounts:t,deadIds:a,roundOver:0===n.impostor||0===n.agent||1===n.impostor&&1===n.agent}}},{key:"calculatePoints",value:function(t,n){var r=n.aliveCounts,a=n.aliveIds,i={};if(n.roundOver){if(1===r.impostor&&1===r.agent);else if(r.impostor>0)for(var o in t)"impostor"===t[o]._.role&&(i[o]=e.winPoints);else if(r.agent>0)for(var s in t)"agent"===t[s]._.role&&(i[s]=e.winPoints)}else a.forEach(function(n){i[n]=e.survivePoints[t[n]._.role]});return i}},{key:"update",value:function(e){var t=this;this.changes={},["status","votes","killedIds"].forEach(function(n){t.changes[n]=e[n]!==t._[n]}),this._=e}},{key:"generateRoundData",value:function(){var e=Object.keys(this.state.players),t=this._generateRoles(e),n=t.playerIdsImpostors,r=t.playerIdsAgents,a=t.impostorCount;this.impostorCount=a;var i=e.length;return{game:{playerCountAlive:i,playerCount:i,votes:{},killVotes:{},killedIds:[],aliveCounts:{impostor:0,agent:0},aliveIds:[],deadCounts:{impostor:0,agent:0},deadIds:[],impostorCount:a,topics:this.generateTopics(),roundOver:!1},players:{playerIdsImpostors:n,playerIdsAgents:r}}}},{key:"generateTopics",value:function(){return[this.topicGenerator.loadTopic(),this.topicGenerator.loadTopic()]}},{key:"generateKilledIds",value:function(){var e={},t=[],n=0;for(var r in this._.votes){var a=this._.votes[r];e[a]=e[a]||0,e[a]++}for(var i in e){var o=e[i];o>n?(n=o,t=[i]):o===n&&t.push(i)}return{killVotes:e,killedIds:t}}},{key:"_generateRoles",value:function(e){var t=(0,o.default)(Array.from(e)),n=this._distributor(e.length),r=n[0],a=n[1],i=t.slice(0,r);return{playerIdsImpostors:t=t.slice(r),playerIdsAgents:i,impostorCount:a}}},{key:"_distributor",value:function(e){var t=Math.floor(.66667*e);return[t,e-t]}},{key:"_ref",get:function(){return"/games/"+this.id}},{key:"_playersRef",get:function(){return"/players/"+this.id}}],[{key:"survivePoints",get:function(){return{agent:1,impostor:2}}},{key:"winPoints",get:function(){return 3}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){y.authenticate("FacebookAuthProvider")}function i(){y.authenticate("GoogleAuthProvider")}function o(){y.authenticate("TwitterAuthProvider")}function s(){var e=new p.default.Auth(null,{authTwitter:o,authFacebook:a,authGoogle:i});e.renderInitial(),e.render()}function l(e){d.default.Users.globalFindOrCreate(e).then(function(e){var t=e.user;return new f.default({user:t})}).catch(c)}function u(e){d.default.App.findVersion().then(function(t){t===b?l(e):t<b||!t?d.default.App.updateVersion(b).then(function(){l(e)}).catch(c):function(){var e=new p.default.NewVersion(null,{});e.renderInitial(),e.render()}()}).catch(c)}function c(e){alert(e)}var d=r(n(3)),h=r(n(15)),f=r(n(17)),p=r(n(6));n(4);console.clear();var y=new h.default,b=.1;console.info("\n%cLexicon Standoff v"+b+"\n%c© Jake Albaugh "+(new Date).getFullYear()+"\nhttps://twitter.com/jake_albaugh\nhttps://github.com/jakealbaugh/lexicon_standoff\n ","font-family: sans-serif; font-weight: bold;","font-family: sans-serif; font-weight: normal;"),y.detectExisting().then(u).catch(function(){y.detectRedirectResult().then(u).catch(s)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"findVersion",value:function(){var e=this;return new Promise(function(t,n){e.db.ref("_version").once("value").then(function(e){t(e.val())}).catch(n)})}},{key:"updateVersion",value:function(e){var t=this;return new Promise(function(n,r){t.db.ref("_version").set(e).then(n).catch(r)})}}]),t}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=r(n(12)),o=r(n(2)),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"globalFind",value:function(e){var t=this;return new Promise(function(n,r){t.db.ref(t.r(e)).once("value").then(function(t){var a=t.val();null!==a?n({game:a}):r("No Game Found with name "+e)}).catch(r)})}},{key:"globalKillVote",value:function(e,t,n){var r=this;return new Promise(function(a,i){r.db.ref(r.r(e)).child("votes").update(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)).then(a).catch(i)})}},{key:"globalListener",value:function(e,t){this.db.ref(this.r(e)).on("value",function(e){t(e.val())})}},{key:"masterCreate",value:function(e){var t=this;return new Promise(function(n,r){var a=(new i.default).loadSlug();t.db.ref(t.r(a)).on("value",function(e){var r=e.val();r&&r.id===a&&(t.db.ref(t.r(a)).off(),n({game:r}))}),t.db.ref(t.r(a)).set({id:a,status:"start",inProgress:!1,masterId:e}).catch(r)})}},{key:"masterDelete",value:function(e){var t=this;return new Promise(function(n,r){t.db.ref(t.r(e)).set(null).then(n).catch(r)})}},{key:"masterUpdateKilledIds",value:function(e,t,n,r){var a=this;return new Promise(function(i,o){a.db.ref(a.r(e)).update({killedIds:t,killVotes:n,playerCountAlive:r}).then(i).catch(o)})}},{key:"masterUpdateResults",value:function(e,t){var n=this;return new Promise(function(r,a){n.db.ref(n.r(e)).update(t).then(r).catch(a)})}},{key:"masterResetRound",value:function(e,t){var n=this;return new Promise(function(r,a){n.db.ref(n.r(e)).update({votes:{},killedIds:[],killVotes:{},roundOver:!1,aliveCounts:{impostor:0,agent:0},aliveIds:[],deadCounts:{impostor:0,agent:0},deadIds:[],topics:t}).then(r).catch(a)})}},{key:"masterUpdateRoundData",value:function(e,t){var n=this;return new Promise(function(r,a){n.db.ref(n.r(e)).update(t).then(r).catch(a)})}},{key:"masterUpdateStatus",value:function(e,t){var n=this;return new Promise(function(r,a){n.db.ref(n.r(e)).update({status:t}).then(r).catch(a)})}},{key:"_key",get:function(){return"games"}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"loadSlug",value:function(){return""+this.getAdjective()+this.getNoun()}},{key:"getAdjective",value:function(){return this.adjectives[Math.floor(Math.random()*this.adjectives.length)]}},{key:"getNoun",value:function(){return this.nouns[Math.floor(Math.random()*this.nouns.length)]}},{key:"adjectives",get:function(){return["quizzical","highfalutin","dynamic","wakeful","cheerful","thoughtful","cooperative","questionable","abundant","uneven","yummy","juicy","vacuous","concerned","young","sparkling","abhorrent","sweltering","late","macho","scrawny","friendly","kaput","divergent","busy","charming","protective","premium","puzzled","waggish","rambunctious","puffy","hard","fat","sedate","yellow","resonant","dapper","courageous","vast","cool","elated","wary","bewildered","level","wooden","ceaseless","tearful","cloudy","gullible","flashy","trite","quick","nondescript","round","slow","spiritual","brave","tenuous","abstracted","colossal","sloppy","obsolete","elegant","fabulous","vivacious","exuberant","faithful","helpless","odd","sordid","blue","imported","ugly","ruthless","deeply","eminent","reminiscent","rotten","sour","volatile","succinct","judicious","abrupt","learned","stereotyped","evanescent","efficacious","festive","loose","torpid","condemned","selective","strong","momentous","ordinary","dry","great","ultra","ahead","broken","dusty","piquant","creepy","miniature","periodic","equable","unsightly","narrow","grieving","whimsical","fantastic","kindhearted","miscreant","cowardly","cloistered","marked","bloody","chunky","undesirable","oval","nauseating","aberrant","stingy","standing","distinct","illegal","angry","faint","rustic","few","calm","gorgeous","mysterious","tacky","unadvised","greasy","minor","loving","melodic","flat","wretched","clever","barbarous","pretty","endurable","handsomely","unequaled","acceptable","symptomatic","hurt","tested","long","warm","ignorant","ashamed","excellent","known","adamant","eatable","verdant","meek","unbiased","rampant","somber","cuddly","harmonious","salty","overwrought","stimulating","beautiful","crazy","grouchy","thirsty","joyous","confused","terrible","high","unarmed","gabby","wet","sharp","wonderful","magenta","tan","huge","productive","defective","chilly","needy","imminent","flaky","fortunate","neighborly","hot","husky","optimal","gaping","faulty","guttural","massive","watery","abrasive","ubiquitous","aspiring","impartial","annoyed","billowy","lucky","panoramic","heartbreaking","fragile","purring","wistful","burly","filthy","psychedelic","harsh","disagreeable","ambiguous","short","splendid","crowded","light","yielding","hypnotic","dispensable","deserted","nonchalant","green","puny","deafening","classy","tall","typical","exclusive","materialistic","mute","shaky","inconclusive","rebellious","doubtful","telling","unsuitable","woebegone","cold","sassy","arrogant","perfect","adhesive","industrious","crabby","curly","voiceless","nostalgic","better","slippery","willing","nifty","orange","victorious","ritzy","wacky","vigorous","spotless","good","powerful","bashful","soggy","grubby","moaning","placid","permissible","half","towering","bawdy","measly","abaft","delightful","goofy","capricious","nonstop","addicted","acoustic","furtive","erratic","heavy","square","delicious","needless","resolute","innocent","abnormal","hurried","awful","impossible","aloof","giddy","large","pointless","petite","jolly","boundless","abounding","hilarious","heavenly","honorable","squeamish","red","phobic","trashy","pathetic","parched","godly","greedy","pleasant","small","aboriginal","dashing","icky","bumpy","laughable","hapless","silent","scary","shaggy","organic","unbecoming","inexpensive","wrong","repulsive","flawless","labored","disturbed","aboard","gusty","loud","jumbled","exotic","vulgar","threatening","belligerent","synonymous","encouraging","fancy","embarrassed","clumsy","fast","ethereal","chubby","high-pitched","plastic","open","straight","little","ancient","fair","psychotic","murky","earthy","callous","heady","lamentable","hallowed","obtainable","toothsome","oafish","gainful","flippant","tangy","tightfisted","damaging","utopian","gaudy","brainy","imperfect","shiny","fanatical","snotty","relieved","shallow","foamy","parsimonious","gruesome","elite","wide","kind","bored","tangible","depressed","boring","screeching","outrageous","determined","picayune","glossy","historical","staking","curious","gigantic","wandering","profuse","vengeful","glib","unaccountable","frightened","outstanding","chivalrous","workable","modern","swanky","comfortable","gentle","substantial","brawny","curved","nebulous","boorish","afraid","fierce","efficient","lackadaisical","recondite","internal","absorbed","squealing","frail","thundering","wanting","cooing","axiomatic","debonair","boiling","tired","numberless","flowery","mushy","enthusiastic","proud","upset","hungry","astonishing","deadpan","prickly","mammoth","absurd","clean","jittery","wry","entertaining","literate","lying","uninterested","aquatic","super","languid","cute","absorbing","scattered","brief","halting","bright","fuzzy","lethal","scarce","aggressive","obsequious","fine","giant","holistic","pastoral","stormy","quaint","nervous","wasteful","grotesque","loutish","abiding","unable","black","dysfunctional","knowledgeable","truculent","various","luxuriant","shrill","spiffy","guarded","colorful","misty","spurious","freezing","glamorous","famous","new","instinctive","nasty","exultant","seemly","tawdry","maniacal","wrathful","shy","nutritious","idiotic","worried","bad","stupid","ruddy","wholesale","naughty","thoughtless","futuristic","available","slimy","cynical","fluffy","plausible","nasty","tender","changeable","smiling","oceanic","satisfying","steadfast","ugliest","crooked","subsequent","fascinated","woozy","teeny","quickest","moldy","uppity","sable","horrible","silly","adhoc","numerous","berserk","wiry","knowing","lazy","childlike","zippy","fearless","pumped","weak","tacit","weary","rapid","precious","smoggy","swift","lyrical","steep","quack","direful","talented","hesitant","fallacious","ill","quarrelsome","quiet","flipped-out","didactic","fluttering","glorious","tough","sulky","elfin","abortive","sweet","habitual","supreme","hollow","possessive","inquisitive","adjoining","incandescent","lowly","majestic","bizarre","acrid","expensive","aback","unusual","foolish","jobless","capable","damp","political","dazzling","erect","Early","immense","hellish","omniscient","reflective","lovely","incompetent","empty","breakable","educated","easy","devilish","assorted","decorous","jaded","homely","dangerous","adaptable","coherent","dramatic","tense","abject","fretful","troubled","diligent","solid","plain","raspy","irate","offbeat","healthy","melted","cagey","many","wild","venomous","animated","alike","youthful","ripe","alcoholic","sincere","teeny-tiny","lush","defeated","zonked","foregoing","dizzy","frantic","obnoxious","funny","damaged","grandiose","spectacular","maddening","defiant","makeshift","strange","painstaking","merciful","madly","clammy","itchy","difficult","clear","used","temporary","abandoned","null","rainy","evil","alert","domineering","amuck","rabid","jealous","robust","obeisant","overt","enchanting","longing","cautious","motionless","bitter","anxious","craven","breezy","ragged","skillful","quixotic","knotty","grumpy","dark","draconian","alluring","magical","versed","humdrum","accurate","ludicrous","sleepy","envious","lavish","roasted","thinkable","overconfident","roomy","painful","wee","observant","old-fashioned","drunk","royal","likeable","adventurous","eager","obedient","attractive","x-rated","spooky","poised","righteous","excited","real","abashed","womanly","ambitious","lacking","testy","big","gamy","early","auspicious","blue-eyed","discreet","nappy","vague","helpful","nosy","perpetual","disillusioned","overrated","gleaming","tart","soft","agreeable","therapeutic","accessible","poor","gifted","old","humorous","flagrant","magnificent","alive","understood","economic","mighty","ablaze","racial","tasteful","purple","broad","lean","legal","witty","nutty","icy","feigned","redundant","adorable","apathetic","jumpy","scientific","combative","worthless","tasteless","voracious","jazzy","uptight","utter","hospitable","imaginary","finicky","shocking","dead","noisy","shivering","subdued","rare","zealous","demonic","ratty","snobbish","deranged","muddy","whispering","credible","hulking","fertile","tight","abusive","functional","obscene","thankful","daffy","smelly","lively","homeless","secretive","amused","lewd","mere","agonizing","sad","innate","sneaky","noxious","illustrious","alleged","cultured","tame","macabre","lonely","mindless","low","scintillating","statuesque","decisive","rhetorical","hysterical","happy","earsplitting","mundane","spicy","overjoyed","taboo","peaceful","forgetful","elderly","upbeat","squalid","warlike","dull","plucky","handsome","groovy","absent","wise","romantic","invincible","receptive","smooth","different","tiny","cruel","dirty","mature","faded","tiresome","wicked","average","panicky","detailed","juvenile","scandalous","steady","wealthy","deep","sticky","jagged","wide-eyed","tasty","disgusted","garrulous","graceful","tranquil","annoying","hissing","noiseless","selfish","onerous","lopsided","ossified","penitent","malicious","aromatic","successful","zany","evasive","wet","naive","nice","uttermost","brash","muddled","energetic","accidental","silky","guiltless","important","drab","aware","skinny","careful","rightful","tricky","sore","rich","blushing","stale","daily","watchful","uncovered","rough","fresh","hushed","rural"]}},{key:"nouns",get:function(){return["ball","bat","bed","book","boy","bun","can","cake","cap","car","cat","cow","cub","cup","dad","day","dog","doll","dust","fan","feet","girl","gun","hall","hat","hen","jar","kite","man","map","men","mom","pan","pet","pie","pig","pot","rat","son","sun","toe","tub","van","apple","arm","banana","bike","bird","book","chin","clam","class","clover","club","corn","crayon","crow","crown","crowd","crib","desk","dime","dirt","dress","fang","field","flag","flower","fog","game","heat","hill","home","horn","hose","joke","juice","kite","lake","maid","mask","mice","milk","mint","meal","meat","moon","mother","morning","name","nest","nose","pear","pen","pencil","plant","rain","river","road","rock","room","rose","seed","shape","shoe","shop","show","sink","snail","snake","snow","soda","sofa","star","step","stew","stove","straw","string","summer","swing","table","tank","team","tent","test","toes","tree","vest","water","wing","winter","woman","women","alarm","animal","aunt","bait","balloon","bath","bead","beam","bean","bedroom","boot","bread","brick","brother","camp","chicken","children","crook","deer","dock","doctor","downtown","drum","dust","eye","family","father","fight","flesh","food","frog","goose","grade","grandfather","grandmother","grape","grass","hook","horse","jail","jam","kiss","kitten","light","loaf","lock","lunch","lunchroom","meal","mother","notebook","owl","pail","parent","park","plot","rabbit","rake","robin","sack","sail","scale","sea","sister","soap","song","spark","space","spoon","spot","spy","summer","tiger","toad","town","trail","tramp","tray","trick","trip","uncle","vase","winter","water","week","wheel","wish","wool","yard","zebra","actor","airplane","airport","army","baseball","beef","birthday","boy","brush","bushes","butter","cast","cave","cent","cherries","cherry","cobweb","coil","cracker","dinner","eggnog","elbow","face","fireman","flavor","gate","glove","glue","goldfish","goose","grain","hair","haircut","hobbies","holiday","hot","jellyfish","ladybug","mailbox","number","oatmeal","pail","pancake","pear","pest","popcorn","queen","quicksand","quiet","quilt","rainstorm","scarecrow","scarf","stream","street","sugar","throne","toothpaste","twig","volleyball","wood","wrench","advice","anger","answer","apple","arithmetic","badge","basket","basketball","battle","beast","beetle","beggar","brain","branch","bubble","bucket","cactus","cannon","cattle","celery","cellar","cloth","coach","coast","crate","cream","daughter","donkey","drug","earthquake","feast","fifth","finger","flock","frame","furniture","geese","ghost","giraffe","governor","honey","hope","hydrant","icicle","income","island","jeans","judge","lace","lamp","lettuce","marble","month","north","ocean","patch","plane","playground","poison","riddle","rifle","scale","seashore","sheet","sidewalk","skate","slave","sleet","smoke","stage","station","thrill","throat","throne","title","toothbrush","turkey","underwear","vacation","vegetable","visitor","voyage","year","able","achieve","acoustics","action","activity","aftermath","afternoon","afterthought","apparel","appliance","beginner","believe","bomb","border","boundary","breakfast","cabbage","cable","calculator","calendar","caption","carpenter","cemetery","channel","circle","creator","creature","education","faucet","feather","friction","fruit","fuel","galley","guide","guitar","health","heart","idea","kitten","laborer","language","lawyer","linen","locket","lumber","magic","minister","mitten","money","mountain","music","partner","passenger","pickle","picture","plantation","plastic","pleasure","pocket","police","pollution","railway","recess","reward","route","scene","scent","squirrel","stranger","suit","sweater","temper","territory","texture","thread","treatment","veil","vein","volcano","wealth","weather","wilderness","wren","wrist","writer","account","achiever","acoustics","act","action","activity","actor","addition","adjustment","advertisement","advice","aftermath","afternoon","afterthought","agreement","air","airplane","airport","alarm","amount","amusement","anger","angle","animal","answer","ant","ants","apparatus","apparel","apple","apples","appliance","approval","arch","argument","arithmetic","arm","army","art","attack","attempt","attention","attraction","aunt","authority","babies","baby","back","badge","bag","bait","balance","ball","balloon","balls","banana","band","base","baseball","basin","basket","basketball","bat","bath","battle","bead","beam","bean","bear","bears","beast","bed","bedroom","beds","bee","beef","beetle","beggar","beginner","behavior","belief","believe","bell","bells","berry","bike","bikes","bird","birds","birth","birthday","bit","bite","blade","blood","blow","board","boat","boats","body","bomb","bone","book","books","boot","border","bottle","boundary","box","boy","boys","brain","brake","branch","brass","bread","breakfast","breath","brick","bridge","brother","brothers","brush","bubble","bucket","building","bulb","bun","burn","burst","bushes","business","butter","button","cabbage","cable","cactus","cake","cakes","calculator","calendar","camera","camp","can","cannon","canvas","cap","caption","car","card","care","carpenter","carriage","cars","cart","cast","cat","cats","cattle","cause","cave","celery","cellar","cemetery","cent","chain","chair","chairs","chalk","chance","change","channel","cheese","cherries","cherry","chess","chicken","chickens","children","chin","church","circle","clam","class","clock","clocks","cloth","cloud","clouds","clover","club","coach","coal","coast","coat","cobweb","coil","collar","color","comb","comfort","committee","company","comparison","competition","condition","connection","control","cook","copper","copy","cord","cork","corn","cough","country","cover","cow","cows","crack","cracker","crate","crayon","cream","creator","creature","credit","crib","crime","crook","crow","crowd","crown","crush","cry","cub","cup","current","curtain","curve","cushion","dad","daughter","day","death","debt","decision","deer","degree","design","desire","desk","destruction","detail","development","digestion","dime","dinner","dinosaurs","direction","dirt","discovery","discussion","disease","disgust","distance","distribution","division","dock","doctor","dog","dogs","doll","dolls","donkey","door","downtown","drain","drawer","dress","drink","driving","drop","drug","drum","duck","ducks","dust","ear","earth","earthquake","edge","education","effect","egg","eggnog","eggs","elbow","end","engine","error","event","example","exchange","existence","expansion","experience","expert","eye","eyes","face","fact","fairies","fall","family","fan","fang","farm","farmer","father","father","faucet","fear","feast","feather","feeling","feet","fiction","field","fifth","fight","finger","finger","fire","fireman","fish","flag","flame","flavor","flesh","flight","flock","floor","flower","flowers","fly","fog","fold","food","foot","force","fork","form","fowl","frame","friction","friend","friends","frog","frogs","front","fruit","fuel","furniture","alley","game","garden","gate","geese","ghost","giants","giraffe","girl","girls","glass","glove","glue","goat","gold","goldfish","goodbye","goose","government","governor","grade","grain","grandfather","grandmother","grape","grass","grip","ground","group","growth","guide","guitar","gun","hair","haircut","hall","hammer","hand","hands","harbor","harmony","hat","hate","head","health","hearing","heart","heat","help","hen","hill","history","hobbies","hole","holiday","home","honey","hook","hope","horn","horse","horses","hose","hospital","hot","hour","house","houses","humor","hydrant","ice","icicle","idea","impulse","income","increase","industry","ink","insect","instrument","insurance","interest","invention","iron","island","jail","jam","jar","jeans","jelly","jellyfish","jewel","join","joke","journey","judge","juice","jump","kettle","key","kick","kiss","kite","kitten","kittens","kitty","knee","knife","knot","knowledge","laborer","lace","ladybug","lake","lamp","land","language","laugh","lawyer","lead","leaf","learning","leather","leg","legs","letter","letters","lettuce","level","library","lift","light","limit","line","linen","lip","liquid","list","lizards","loaf","lock","locket","look","loss","love","low","lumber","lunch","lunchroom","machine","magic","maid","mailbox","man","manager","map","marble","mark","market","mask","mass","match","meal","measure","meat","meeting","memory","men","metal","mice","middle","milk","mind","mine","minister","mint","minute","mist","mitten","mom","money","monkey","month","moon","morning","mother","motion","mountain","mouth","move","muscle","music","nail","name","nation","neck","need","needle","nerve","nest","net","news","night","noise","north","nose","note","notebook","number","nut","oatmeal","observation","ocean","offer","office","oil","operation","opinion","orange","oranges","order","organization","ornament","oven","owl","owner","page","pail","pain","paint","pan","pancake","paper","parcel","parent","park","part","partner","party","passenger","paste","patch","payment","peace","pear","pen","pencil","person","pest","pet","pets","pickle","picture","pie","pies","pig","pigs","pin","pipe","pizzas","place","plane","planes","plant","plantation","plants","plastic","plate","play","playground","pleasure","plot","plough","pocket","point","poison","police","polish","pollution","popcorn","porter","position","pot","potato","powder","power","price","print","prison","process","produce","profit","property","prose","protest","pull","pump","punishment","purpose","push","quarter","quartz","queen","question","quicksand","quiet","quill","quilt","quince","quiver","rabbit","rabbits","rail","railway","rain","rainstorm","rake","range","rat","rate","ray","reaction","reading","reason","receipt","recess","record","regret","relation","religion","representative","request","respect","rest","reward","rhythm","rice","riddle","rifle","ring","rings","river","road","robin","rock","rod","roll","roof","room","root","rose","route","rub","rule","run","sack","sail","salt","sand","scale","scarecrow","scarf","scene","scent","school","science","scissors","screw","sea","seashore","seat","secretary","seed","selection","self","sense","servant","shade","shake","shame","shape","sheep","sheet","shelf","ship","shirt","shock","shoe","shoes","shop","show","side","sidewalk","sign","silk","silver","sink","sister","sisters","size","skate","skin","skirt","sky","slave","sleep","sleet","slip","slope","smash","smell","smile","smoke","snail","snails","snake","snakes","sneeze","snow","soap","society","sock","soda","sofa","son","song","songs","sort","sound","soup","space","spade","spark","spiders","sponge","spoon","spot","spring","spy","square","squirrel","stage","stamp","star","start","statement","station","steam","steel","stem","step","stew","stick","sticks","stitch","stocking","stomach","stone","stop","store","story","stove","stranger","straw","stream","street","stretch","string","structure","substance","sugar","suggestion","suit","summer","sun","support","surprise","sweater","swim","swing","system","table","tail","talk","tank","taste","tax","teaching","team","teeth","temper","tendency","tent","territory","test","texture","theory","thing","things","thought","thread","thrill","throat","throne","thumb","thunder","ticket","tiger","time","tin","title","toad","toe","toes","tomatoes","tongue","tooth","toothbrush","toothpaste","top","touch","town","toy","toys","trade","trail","train","trains","tramp","transport","tray","treatment","tree","trees","trick","trip","trouble","trousers","truck","trucks","tub","turkey","turn","twig","twist","umbrella","uncle","underwear","unit","use","vacation","value","van","vase","vegetable","veil","vein","verse","vessel","vest","view","visitor","voice","volcano","volleyball","voyage","walk","wall","war","wash","waste","watch","water","wave","waves","wax","way","wealth","weather","week","weight","wheel","whip","whistle","wilderness","wind","window","wine","wing","winter","wire","wish","woman","women","wood","wool","word","work","worm","wound","wren","wrench","wrist","writer","writing","yak","yam","yard","yarn","year","yoke","zebra","zephyr","zinc","zipper","zoo"]}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"globalFindOrCreate",value:function(e,t,n){var r=this;return new Promise(function(a,i){r.globalFind(t,e.id).then(function(e){var t=e.player;a({player:t})}).catch(function(){r.globalCreate(t,e,n).then(function(){r.globalFind(t,e.id).then(function(e){var t=e.player;a({player:t})}).catch(i)}).catch(i)})})}},{key:"globalCreate",value:function(e,t,n){var r=this;return new Promise(function(a,i){var o=t.id,s=t.name,l=t.image,u=(t.alive,{id:o,gameId:e,name:s,image:l,master:n,score:0,scoreRound:0});r.db.ref(r.r([e,o])).set(u).then(a).catch(i)})}},{key:"globalFind",value:function(e,t){var n=this;return new Promise(function(r,a){n.db.ref(n.r([e,t])).once("value").then(function(e){var t=e.val();null!==t?r({player:t}):a()}).catch(a)})}},{key:"globalListenerAdded",value:function(e,t){this.db.ref(this.r(e)).on("child_added",function(e){t(e.val())})}},{key:"globalListenerPlayer",value:function(e,t,n){this.db.ref(this.r([e,t])).on("value",function(e){n(e.val())})}},{key:"masterDelete",value:function(e){var t=this;return new Promise(function(n,r){t.db.ref(t.r(e)).set(null).then(n).catch(r)})}},{key:"masterKillPlayers",value:function(e,t){var n=this;return new Promise(function(r,a){var i=t.length;t.forEach(function(t){n.db.ref(n.r([e,t])).update({alive:!1}).then(function(){--i<=0&&r()}).catch(a)})})}},{key:"masterResetStart",value:function(e){var t=this;return new Promise(function(n,r){var a=Object.keys(e).length;for(var i in e){t.db.ref(t.r([e[i].gameId,i])).update({score:0}).then(function(){--a<=0&&n()}).catch(r)}})}},{key:"masterTallyScores",value:function(e,t){var n=this;return new Promise(function(r,a){var i=Object.keys(e).length;for(var o in e){var s=t[o],l=e[o];if(s){var u=l._.scoreRound+s,c=l._.score+s;n.db.ref(n.r([l.gameId,o])).update({score:c,scoreRound:u}).then(function(){--i<=0&&r()}).catch(a)}else--i<=0&&r()}})}},{key:"masterUpdateRoundData",value:function(e,t){var n=this,r=t.playerIdsImpostors,a=t.playerIdsAgents;return new Promise(function(t,i){var o=Object.keys(e).length;for(var s in e){var l=e[s],u=void 0;u=r.includes(s)?"impostor":(a.includes(s),"agent"),n.db.ref(n.r([l.gameId,s])).update({role:u,alive:!0,score:0,scoreRound:0}).then(function(){--o<=0&&t()}).catch(i)}})}},{key:"_key",get:function(){return"players"}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"globalFindOrCreate",value:function(e){var t=this;return new Promise(function(n,r){var a=t._userDataFromParams(e);t.globalFind(a.id).then(function(e){n({user:e})}).catch(function(){t.globalCreate(a).then(function(){t.globalFind(a.id).then(function(e){n({user:e})}).catch(r)}).catch(r)})})}},{key:"globalCreate",value:function(e){var t=this;return new Promise(function(n,r){t.db.ref(t.r(e.id)).set(e).then(function(){n(!0)}).catch(r)})}},{key:"globalFind",value:function(e){var t=this;return new Promise(function(n,r){t.db.ref(t.r(e)).once("value").then(function(e){var t=e.val();null!==t?n(t):r()}).catch(r)})}},{key:"globalUpdate",value:function(e,t){var n=this;return new Promise(function(r,a){n.db.ref(n.r(e)).update(t).then(function(){r(!0)}).catch(function(e){return a(e)})})}},{key:"_userDataFromParams",value:function(e){return{id:e.uid,image:e.photoURL,name:e.displayName.replace(/ .+$/,"")}}},{key:"_key",get:function(){return"users"}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(16),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),firebase.initializeApp(a)}return r(e,[{key:"detectExisting",value:function(){return new Promise(function(e,t){firebase.auth().onAuthStateChanged(function(n){n?e(n):t()})})}},{key:"detectRedirectResult",value:function(){return new Promise(function(e,t){firebase.auth().getRedirectResult(function(n){n?e(n.user):t()})})}},{key:"authenticate",value:function(e){var t=new firebase.auth[e];firebase.auth().signInWithRedirect(t)}}]),e}();t.default=i},function(e,t,n){"use strict";e.exports={apiKey:"AIzaSyBpZA1-uyug0KrUvgAOSfQwrMVvw4BtV-Y",authDomain:"lexicon-standoff.firebaseapp.com",databaseURL:"https://lexicon-standoff.firebaseio.com",projectId:"lexicon-standoff",storageBucket:"",messagingSenderId:"856454410862"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=r(n(3)),o=r(n(6)),s=r(n(8)),l=r(n(28)),u="development"===n(4).env,c=function(){function e(t){var n=t.user;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.user=n,this.initializeLaunch(),this.initialize()}return a(e,[{key:"initializeLaunch",value:function(){this.launch=new o.default.Launch(null,{createGame:this.createGame.bind(this),findGame:this.findGame.bind(this)}),this.launch.renderInitial()}},{key:"initialize",value:function(){var e=this;this.user.currentGameId?i.default.Games.globalFind(this.user.currentGameId).then(this.initializeGame.bind(this)).catch(function(){e.launch.render({user:e.user})}):this.launch.render({user:this.user})}},{key:"createGame",value:function(){var e=this;i.default.Games.masterCreate(this.user.id).then(function(t){return e.initializeGame(t,!0)}).catch(this.handleError.bind(this))}},{key:"findGame",value:function(e){i.default.Games.globalFind(e).then(this.initializeGame.bind(this)).catch(this.handleError.bind(this))}},{key:"handleGameChanges",value:function(){this.game.changes.status&&this.handleStatusChange(),this.master&&(this.game.changes.votes&&this.handleVotesChange(),"votes"===this.game._.status&&this.game.changes.killedIds&&this.handleKilledIdsChange())}},{key:"handleStatusChange",value:function(){this.game._&&this.render()}},{key:"handleKilledIdsChange",value:function(){var e=this,t=this.game.calculateRoundOverData(this.players),n=this.game.calculatePoints(this.players,t);i.default.Players.masterTallyScores(this.players,n).then(function(){var n={status:"results",aliveCounts:t.aliveCounts,aliveIds:t.aliveIds,deadCounts:t.deadCounts,deadIds:t.deadIds,roundOver:t.roundOver};i.default.Games.masterUpdateResults(e.game.id,n)})}},{key:"handleVotesChange",value:function(){var e=this;if("votes"===this.game._.status&&this.game.detectAllVotesSubmitted()&&!this.killLock){this.killLock=!0;var t=this.game.generateKilledIds(),n=t.killVotes,r=t.killedIds;i.default.Players.masterKillPlayers(this.game.id,r).then(function(){var t=e.game._.playerCountAlive-r.length;i.default.Games.masterUpdateKilledIds(e.game.id,r,n,t).then(function(){e.killLock=!1})})}}},{key:"handleError",value:function(e){alert(e)}},{key:"initializeGame",value:function(e){var t=this,n=e.game,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];u&&r&&this._devCreateStubbedPlayers(n.id),this.playerId=this.user.id,this.gameId=n.id,this.master=n.masterId===this.playerId,this.players={},i.default.Players.globalListenerAdded(this.gameId,function(e){t.initializePlayer(e)}),i.default.Users.globalUpdate(this.playerId,{currentGameId:this.gameId}),i.default.Players.globalFindOrCreate(this.user,this.gameId,this.master).then(function(e){t.game=new s.default({state:t}),i.default.Games.globalListener(t.gameId,function(e){e?(t.game.update(e),t.handleGameChanges()):(t.rendered=!1,i.default.Users.globalUpdate(t.playerId,{currentGameId:null}),t.launch.render({user:t.user}))})})}},{key:"initializePlayer",value:function(e){var t=this;this.players[e.id]=new l.default(this,e),i.default.Players.globalListenerPlayer(this.gameId,e.id,function(e){e&&t.players[e.id]&&t.players[e.id].update(e)}),!this.rendered&&this.player&&this.initializeRenderers(),this.player&&(this.renderers.start.player=this.player,this.renderers.start.render({players:this.players,gameId:this.gameId}))}},{key:"initializeRenderers",value:function(){var e=this;if(this.renderers)for(var t in this.renderers)this.renderers[t].remove();this.renderers={start:new o.default.Start(this.player,{dispatchStart:function(){return e.dispatchStart()},dispatchEnd:function(){return e.dispatchEnd()}}),turns:new o.default.Turns(this.player,{dispatchReveal:function(){return e.dispatchReveal()}}),reveal:new o.default.Reveal(this.player,{dispatchVotes:function(){return e.dispatchVotes()}}),votes:new o.default.Votes(this.player,{dispatchVote:function(t){return e.dispatchVote(t)}}),results:new o.default.Results(this.player,{dispatchEnd:function(){return e.dispatchEnd()},dispatchTurns:function(){return e.dispatchTurns()},dispatchNewRound:function(){return e.dispatchNewRound()}})},this.renderers.start.renderInitial(),this.renderers.turns.renderInitial(),this.renderers.reveal.renderInitial(),this.renderers.votes.renderInitial(),this.renderers.results.renderInitial(),this.rendered=!0}},{key:"dispatchStart",value:function(){var e=this;i.default.Players.masterResetStart(this.players).then(function(){e.dispatchNewRound()})}},{key:"dispatchTurns",value:function(){var e=this,t=this.game.generateTopics();i.default.Games.masterResetRound(this.game.id,t).then(function(){i.default.Games.masterUpdateStatus(e.game.id,"turns")})}},{key:"dispatchReveal",value:function(){i.default.Games.masterUpdateStatus(this.game.id,"reveal")}},{key:"dispatchVotes",value:function(){i.default.Games.masterUpdateStatus(this.game.id,"votes")}},{key:"dispatchNewRound",value:function(){var e=this,t=this.game.generateRoundData();i.default.Games.masterUpdateRoundData(this.game.id,t.game).then(function(){i.default.Players.masterUpdateRoundData(e.players,t.players).then(function(){i.default.Games.masterUpdateStatus(e.game.id,"turns")})})}},{key:"dispatchEnd",value:function(){var e=this;i.default.Players.masterDelete(this.game.id).then(function(){i.default.Games.masterDelete(e.game.id)})}},{key:"dispatchVote",value:function(e){i.default.Games.globalKillVote(this.game.id,this.user.id,e),u&&this.devDispatchVote(e)}},{key:"devDispatchVote",value:function(e){this.game._.playerCount;if(this.player._.master)for(var t=0;t<this.game._.playerCountAlive-1;t++){var n="TEST_USER_"+(t+1);i.default.Games.globalKillVote(this.game.id,n,e)}}},{key:"render",value:function(){var e=this,t=this.game._.status,n={turns:function(){return e.renderers.turns.render(e.game._)},reveal:function(){return e.renderers.reveal.render(e.game._)},votes:function(){return e.renderers.votes.render({players:e.players,impostorCount:e.game._.impostorCount,votes:e.game._.votes})},results:function(){return e.renderers.results.render({players:e.players,gameData:e.game._})}};return n[t]?n[t]():null}},{key:"_devCreateStubbedPlayers",value:function(e){for(var t=0;t<5;t++)i.default.Players.globalCreate(e,{id:"TEST_USER_"+(t+1),name:"Player"+(t+1),image:"https://lh4.googleusercontent.com/-qkrR_IJ6BCc/AAAAAAAAAAI/AAAAAAAABGU/SQGbIJDw4NQ/photo.jpg"},!1)}},{key:"player",get:function(){return this.players[this.playerId]}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"renderInitial",value:function(){var e=this.el("h1","Lexicon Standoff"),t=this.el("p","Your web app is out of date. Please close and reopen it.","description");this.append(this.$main,[e,t])}},{key:"render",value:function(){this.toggleSections()}},{key:"_name",get:function(){return"new-version"}},{key:"_eventsList",get:function(){return[]}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"renderInitial",value:function(){var e=this,t=this.el("h1","Lexicon Standoff"),n=this.el("p","Please Sign In","description"),r=this.el("button","Google"),a=this.el("button","Facebook"),i=this.el("button","Twitter");this.append(this.$main,[t,n,r,a,i]),r.addEventListener("click",function(){e.events.authGoogle()}),a.addEventListener("click",function(){e.events.authFacebook()}),i.addEventListener("click",function(){e.events.authTwitter()})}},{key:"render",value:function(){this.toggleSections()}},{key:"_name",get:function(){return"auth"}},{key:"_eventsList",get:function(){return["authTwitter","authGoogle","authFacebook"]}}]),t}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=r(n(0)),o=r(n(1)),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"renderInitial",value:function(){var e=this,t=this.el("p","If you are on a mobile device, add this site to your home screen to get full screen.\n          iOS can only do this through Safari.","instruction"),n=this.el("p","Enter a Secret to Join"),r=this.el("input"),a=this.el("div",null,"item-group");this.new=new o.default({content:"Create a Game",clickEvent:this.events.createGame.bind(this)}),this.join=new o.default({content:"Join",clickEvent:function(){return e.events.findGame(r.value.replace(/ /g,"").toLowerCase())}}),this.$user=this.el("p",null,"user-info"),r.setAttribute("type","text"),r.setAttribute("placeholder","gamesecret"),this.append(a,[r,this.join.$el]),this.append(this.$main,[this.$user,this.new.$el,n,a]),this.$footer.appendChild(t)}},{key:"render",value:function(e){var t=e.user;this.toggleSections(),this.$user.innerHTML='<img src="'+t.image+'" /> <span>'+t.name+"</span>"}},{key:"_name",get:function(){return"launch"}},{key:"_eventsList",get:function(){return["createGame","findGame"]}}]),t}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=r(n(0)),o=r(n(1)),s=r(n(5)),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"renderInitial",value:function(){if(this.$h1=this.el("h1","Waiting for Players..."),this.$header.appendChild(this.$h1),this.$secretLabel=this.el("p","Game Secret","label"),this.$secret=this.el("p",null,"secret"),this.append(this.$main,[this.$secretLabel,this.$secret]),this.players=new s.default,this.append(this.$main,this.players.elements),this.player._.master){var e=this.el("p","Once everyone is here, start the game. Players can join this Game using the Game Secret above.","instruction"),t=this.el("div",null,"item-group"),n=new o.default({content:"Cancel",clickEvent:this.events.dispatchEnd.bind(this)});this.start=new o.default({content:"Start",clickEvent:this.events.dispatchStart.bind(this)}),this.append(t,[n.$el,this.start.$el]),this.append(this.$footer,[e,t])}}},{key:"render",value:function(e){var t=e.players,n=e.gameId;this.players.reset();var r=3-Object.keys(t).length,a=r>0,i=r>1?"Players":"Player";this.players.title(a?"Need at least "+r+" more "+i:""),this.player._.master&&this.start&&(a?this.start.disable():this.start.enable()),this.$secret.innerHTML="“"+n+"”",this.toggleSections();for(var o in t){var s=t[o],l=s.image,u=s.name,c='<span class="user '+(o===this.player.id?"you":"")+'"><img src="'+l+'" /> <span>'+u+"</span></span>";this.players.add(c)}}},{key:"_name",get:function(){return"start"}},{key:"_eventsList",get:function(){return["dispatchStart","dispatchEnd"]}}]),t}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=r(n(0)),o=r(n(1)),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"renderInitial",value:function(){this.$h1=this.el("h1"),this.$topics=this.el("p",null,"topics"),this.$desc=this.el("p",null,"description"),this.$header.appendChild(this.$h1),this.append(this.$main,[this.$topics,this.$desc]),this.player._.master&&this.renderInitialMaster()}},{key:"renderInitialMaster",value:function(){var e=this.el("p","Take clockwise turns saying a word. You're first in round one.\n        After a round, the first turn moves clockwise to the next alive Player.\n        Once everyone says a word, proceed.","instruction");this.proceed=new o.default({content:"Proceed",clickEvent:this.events.dispatchReveal.bind(this)}),this.append(this.$footer,[e,this.proceed.$el])}},{key:"render",value:function(e){var t=e.topics,n=this.player.capitalizedRole;if(this.$h1.innerHTML='\n      <span class="status">Turns</span> <span class="info"><span class="throb">'+n+"</span></span>",this.player._.alive){var r=void 0,a=void 0;if("impostor"===this.player._.role)r="On your turn, say one word that you associate with this Topic. Be abstract.",a=t[0];else{var i=Math.round(Math.random()),o=0===i?1:0;r="On your turn, say one word that you associate with both of the Topics above.",a=t[i]+" &amp; "+t[o]}this.$topics.innerHTML=a,this.$desc.innerHTML=r}else this.$topics.innerHTML="",this.renderDead(this.$desc);this.toggleSections()}},{key:"_name",get:function(){return"turns"}},{key:"_eventsList",get:function(){return["dispatchReveal"]}}]),t}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=r(n(0)),o=r(n(1)),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"renderInitial",value:function(){if(this.$h1=this.el("h1"),this.$topics=this.el("p",null,"topics"),this.$desc=this.el("p",null,"description"),this.$header.appendChild(this.$h1),this.append(this.$main,[this.$topics,this.$desc]),this.player._.master){var e=this.el("p","Players question each other's word selections and discuss who they think is an Impostor.\n          Once everyone is ready to vote, proceed.","instruction"),t=new o.default({content:"Proceed",clickEvent:this.events.dispatchVotes.bind(this)});this.append(this.$footer,[e,t.$el])}}},{key:"render",value:function(e){var t=e.topics,n=this.player.capitalizedRole;this.$h1.innerHTML='\n      <span class="status">Reveal</span> <span class="info"><span class="throb">'+n+"</span></span>",this.$topics.innerHTML=t[0]+" &amp; "+t[1],this.player._.alive?this.$desc.innerHTML="If questioned, explain your association for the Topics. Question other's choices.":this.renderDead(this.$desc),this.toggleSections()}},{key:"_name",get:function(){return"reveal"}},{key:"_eventsList",get:function(){return["dispatchVotes"]}}]),t}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=r(n(0)),o=r(n(1)),s=r(n(5)),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"renderInitial",value:function(){var e=this;this.$h1=this.el("h1"),this.$header.appendChild(this.$h1),this.$desc=this.el("p",null,"description"),this.$main.appendChild(this.$desc),this.votes=new s.default,this.append(this.$main,this.votes.elements),this.graveyard=new s.default,this.append(this.$main,this.graveyard.elements),this.vote=new o.default({content:"Vote",clickEvent:function(){var t=e.$section.querySelector(":checked").value;e.events.dispatchVote(t),e.vote.disable(),e.$main.classList.add("inactive")}}),this.append(this.$footer,[this.vote.$el])}},{key:"render",value:function(e){var t=e.players,n=e.votes,r=e.impostorCount;this.$main.classList.remove("inactive"),this.vote.enable(),this.votes.reset(),this.graveyard.reset(),this.toggleSections(),this.graveyard.title("Graveyard");var a=this.player.capitalizedRole;if(this.$h1.innerHTML='\n      <span class="status">Votes</span> <span class="info"><span class="throb">'+a+"</span></span>",n&&n[this.player.id])this.votes.title("You have already voted!"),this.$footer.classList.add("hide"),this.vote.disable();else if(this.player._.alive){this.$footer.classList.remove("hide"),this.votes.title("Select a Player");var i=Object.keys(t).length-r,o=1===r?"is":"are",s=this._pluralize(r,"Impostor"),l=this._pluralize(i,"Agent");this.$desc.innerHTML="\n          Vote for the Player you want to Kill. There "+o+" a total of "+s+" and "+l+".";var u=!0;for(var c in t)if(c!==this.player.id){var d=t[c];if(d._.alive){var h=u?"checked":"";u&&(u=!1),this.votes.add('\n                <input id="'+c+'" value="'+c+'"\n                  type="radio" name="votes" '+h+' />\n                <label for="'+c+'">'+this.userSpan(d)+"</label>\n              ")}}}else this.renderDead(this.$desc),this.$footer.classList.add("hide");var f=!1;for(var p in t){var y=t[p];y._.alive||(f=!0,this.graveyard.add(this.userSpan(y)))}f||(this.graveyard.$ul.innerHTML='<li class="empty">Empty</li>')}},{key:"_pluralize",value:function(e,t){return 1===e?"1 "+t:e+" "+t+"s"}},{key:"_name",get:function(){return"votes"}},{key:"_eventsList",get:function(){return["dispatchVote"]}}]),t}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=r(n(8)),o=r(n(0)),s=r(n(1)),l=r(n(5)),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"renderInitial",value:function(){this.$h1=this.el("h1"),this.$header.appendChild(this.$h1),this.$desc=this.el("div"),this.$main.appendChild(this.$desc),this.killed=new l.default,this.append(this.$main,this.killed.elements),this.players=new l.default,this.append(this.$main,this.players.elements),this.extra1=new l.default,this.append(this.$main,this.extra1.elements),this.extra2=new l.default,this.append(this.$main,this.extra2.elements),this.$score=this.el("p",null,"description"),this.$main.appendChild(this.$score),this.player._.master&&this.renderInitialMaster()}},{key:"renderInitialMaster",value:function(){var e=this.el("p","Once everyone is ready, you may proceed below.","instruction"),t=new s.default({content:"Continue",clickEvent:this.events.dispatchNewRound.bind(this)}),n=new s.default({content:"End",clickEvent:this.events.dispatchEnd.bind(this)});this.continue=new s.default({content:"Proceed",clickEvent:this.events.dispatchTurns.bind(this)}),this.$group=this.el("div",null,"item-group"),this.append(this.$group,[t.$el,n.$el]),this.append(this.$footer,[e,this.$group,this.continue.$el])}},{key:"render",value:function(e){var t=this,n=e.players,r=e.gameData,a=r.aliveCounts,i=(r.aliveIds,r.deadCounts,r.deadIds,r.roundOver),o=r.killVotes,s=r.killedIds;this.killed.reset(),this.players.reset(),this.extra1.reset(),this.extra2.reset(),this.$score.innerHTML="",this.toggleSections();var l=this.player.capitalizedRole;this.$h1.innerHTML='\n      <span class="status">Results</span> <span class="info"><span class="throb">'+l+"</span></span>";var u=o[s[0]];if(this.killed.title("\n      Killed this Round by "+u+" Vote"+(u>1?"s":"")),s.forEach(function(e){t.killed.add(t.userSpan(n[e],"dead"))}),i){this.extra1.title("Impostors"),this.extra2.title("Standings"),this.extra2.$ul.classList.add("flex-list-half");var c=this._winnerText(a);this.$desc.innerHTML='\n        <p class="description">'+c+'</p>\n        <p class="description">'+this._roundPointsText(a)+"</p>\n      ";Object.keys(n).sort(function(e,t){var r=n[e]._.score,a=n[t]._.score;return r>a?-1:r<a?1:0}).forEach(function(e){var r=n[e],a='<span class="score">'+r._.score+"</span>",i=t.userSpan(r)+" "+a;t.extra2.add(i),"impostor"===r._.role&&t.extra1.add(t.userSpan(r))})}else{this.extra1.title("Survivors"),this.extra2.title("Graveyard"),this.extra2.$ul.classList.remove("flex-list-half"),this.$desc.innerHTML='\n        <p class="description">The Round is still in progress. Player roles will be maintained.</p>\n        <p class="description">'+this._playerPoints()+"</p>\n      ";for(var d in n){var h=n[d];h._.alive?this.extra1.add(this.userSpan(h)):this.extra2.add(this.userSpan(h))}}this.player._.master&&this.renderMaster(i)}},{key:"renderMaster",value:function(e){e?(this.continue.$el.classList.add("hide"),this.$group.classList.remove("hide")):(this.continue.$el.classList.remove("hide"),this.$group.classList.add("hide"))}},{key:"_points",value:function(e){return'<span class="points">'+e+" "+(1===e?"point":"points")+"</span>"}},{key:"_winnerText",value:function(e){var t=e.imposter,n=e.agent;return t>0?'The <span class="role">Impostors</span> won!':n>0?'The <span class="role">Agents</span> won!':"It was a draw!"}},{key:"_roundPointsText",value:function(e){var t=e.imposter,n=e.agent;return t>0?"All Impostors receive "+this._points(i.default.winPoints)+".":n>0?"All Agents receive "+this._points(i.default.winPoints)+".":"No one receives additional points."}},{key:"_playerPoints",value:function(){var e=this.player._,t=e.scoreRound,n=e.role,r=e.alive,a=r?i.default.survivePoints[n]:0,o=r?"survived":"died";return"You received "+this._points(a)+" this Turn because you "+o+"\n      and have scored "+this._points(t)+" this Round."}},{key:"_name",get:function(){return"results"}},{key:"_eventsList",get:function(){return["dispatchEnd","dispatchTurns","dispatchNewRound"]}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.indexes=[]}return r(e,[{key:"loadTopic",value:function(){return this.topics[this.findIndex()]}},{key:"findIndex",value:function(){var e=Math.floor(Math.random()*this.topics.length);return this.indexes.includes(e)?this.findIndex():(this.indexes.push(e),e)}},{key:"topics",get:function(){return["Accordions","Adult","Aeroplane","Africa","Agriculture","Air","Aircraft Carrier","Airforce","Airplane","Airports","Album","Alligators","Alphabet","America","Amusement Parks","Apes","Apple","Archery","Arm","Army","Art","Artists","Asia","Astronomy","Athletics","Baby","Backpack","Bakeries","Balloons","Bananas","Bank","Barbecue","Barbers","Baseball","Basketball","Bathroom","Bathtub","Bats","Bears","Bed","Bee","Beekeeping","Bible","Billiards","Birds","Blacksmiths","Boats","Bohemians","Bomb","Books","Boss","Bottle","Bowl","Box","Boxing","Boy","Boy Scouts","Brain","Bread","Breastfeeding","Breweries","Bridges","Buddhism","Buffaloes","Butterfly","Button","Cactus","Camels","Canoes","Cappuccino","Car","Car-race","Cards","Carousels","Carpentry","Carpet","Carrot","Cats","Caves","Cemetery","Central America","Chair","Checkbook","Cheese","Chess","Chess Board","Chief","Child","Chisel","Chocolates","Church","Cigarettes","Circle","Circus","Clock","Clowns","Coal","Cobblers","Cocoa","Code","Coffee","Coffee-shop","Coffin","Coins","Comet","Communism","Compact Disc","Compass","Computer","Cotton","Cows","Cricket","Crime","Criminals","Crocodiles","Crystal","Cup","Cycle","Cycling","Dance","Data Base","Death","Dentistry","Desk","Diamonds","Disasters","Disney Movies","Diving","Dogs","Dolphins","Donkeys","Dress","Drill","Drink","Drugstores","Drum","Dung","Ears","Earth","Earthquake","Egg","Electricity","Elephants","Engineering","Eraser","Europe","Execution","Explosive","Eyes","Family","Fan","Farm","Farmers Markets","Feather","Fencing","Ferry Boats","Festival","Film","Finger","Fire","Firemen","Fishing","Flight","Flood","Floodlight","Flower","Foot","Football","Fork","Fortune Tellers","Foxes","France","Freaks","Freeway","Frogs","Fruit","Funerals","Fungus","Games","Garden","Gas","Gas Station","Gate","Geese","Gemstone","Giants","Giraffes","Girl","Gloves","Goats","God","Gold","Golf","Gorillas","Grapes","Guitar","Gymnastics","Gypsies","Hammer","Hammocks","Hat","Hieroglyphics","Highway","Hippopotamus","Hockey","Horoscope","Horses","Hose","Hotels","Hunting","Hurricanes","Ice","Ice-cream","Insects","Jamaica","Jet fighter","Jewelery","Journalism","Jungles","Junk","Justice","Kaleidoscope","Kitchen","Knife","Laundry","Leather","Leather jacket","Leg","Library","Lighters","Lighthouses","Lions","Liquid","Magicians","Magnet","Man","Map","Marionettes","Masonry","Mass","Matches","Maze","Meat","Medicine","Meteor","Meteorology","Microscope","Military","Milkshake","Mining","Mist","Money","Monkeys","Monster","Mosquito","Motherhood","Motorcycles","Mountaineering","Mouth","Movie","Movie Theaters","Mules","Mummies","Muppets","Murderers","Music","Nail","Napoleon","Native Americans","Navy","Necklace","Needle","Newspapers","North Africa","Nurses","Oil","Onion","Ostriches","Outer Space","Paint Brush","Pants","Paper Boys","Parachute","Parachuting","Passport","Pebble","Pendulum","Pepper","Perfume","Pharmacy","Pigeons","Pigs","Pillar","Pillow","Pineapple","Pipe Organs","Pipes","Plane","Planet","Playing Cards","Pocket","Police","Politics","Pork","Post-office","Postcards","Potatoes","Pottery","President","Printer","Printing","Prisons","Programming","Puppets","Pyramid","Rabbits","Radar","Radio","Radiology","Railroads","Rainbow","Record","Red Cross","Restaurant","Rhinoceros","Rice","Rifle","Ring","Robot","Rock","Rocket","Roof","Room","Rope","Royalty","Rugby","Saddle","Sailing","Salt","Salvation Army","Sandpaper","Sandwich","Satellite","School","Seashells","Seesaws","Sewing Machines","Sex","Sharks","Sheep","Shells","Ship","Shipping","Shipwrecks","Shoes","Shop","Shovels","Shower","Signature","Skating","Skeleton","Skiing","Skull","Slave","Slavery","Smoking","Snail","Snakes","Soccer","Socialism","Software","Solid","Sorrow","South America","Space Shuttle","Spas","Spectrum","Sphere","Spice","Spinning","Spiral","Spirits","Spoon","Sports","Sports-car","Spotlight","Square","Stadiums","Staircase","Star","Stomach","Submarines","Sugar","Sun","Sunglasses","Surveyor","Swimming Pool","Swings","Sword","Table","Tanning","Tapestry","Tattoos","Technology","Teeth","Telephone","Telescope","Television","Tennis","The Olympic Games","The Post Office","Thermometer","Tigers","Toads","Tobacco","Toilet","Tongue","Torch","Torpedo","Torture","Train","Treadmill","Triangle","Tunnel","Turtles","Typewriters","Umbrella","Vaccines","Vacuum","Vampire","Vanilla","Vegetables","Veterinarians","Videotape","Volcanoes","Volleyball","Vulture","Water","Water Skiing","Weapon","Weaving","Web","Wedding","Whales","Wheelchair","Whistling","Windmills","Window","Winter","Woman","Women in the Army","Wood","World War 1","Worm","Wrestling","X-rays","Zebras","Zeppelins"]}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){var r=n.id,a=n.gameId,i=n.name,o=n.image;n.master;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r,this.name=i,this.image=o,this.gameId=a,this.state=t,this._={}}return r(e,[{key:"update",value:function(e){this._=e}},{key:"capitalizedRole",get:function(){return this._.role.charAt(0).toUpperCase()+this._.role.slice(1)}},{key:"key",get:function(){return this.gameId+"/"+this.id}},{key:"_ref",get:function(){return"/players/"+this.key}}]),e}();t.default=a}]);
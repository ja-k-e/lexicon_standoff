!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=11)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.events=n,this.$container=document.querySelector(".container > div"),this.$section=this.el("section"),this.$header=this.el("header"),this.$main=this.el("main"),this.$footer=this.el("footer"),this.$container.appendChild(this.$section),this.$section.appendChild(this.$header),this.$section.appendChild(this.$main),this.$section.appendChild(this.$footer),this.$section.classList.add(this._name),this._activeSection=null}return i(e,[{key:"toggleSections",value:function(){var e=this.$container.querySelector("section.active");e&&e.classList.remove("active"),this.$section.classList.add("active"),this.$container.className="active-"+this._name,this._activeSection=this._name}},{key:"remove",value:function(){this.$section.remove()}},{key:"userSpan",value:function(e,t){var n=e.id===this.player.id?"you":"",i=e.id===this.player.id?"You":e.name;return t&&(n+=" "+t),'<span class="user '+n+'"><img src="'+e.avatar+'" /> '+i+"</span>"}},{key:"roleHeader",value:function(e){var t=this.player;return'<span class="status">'+e+'</span>\n      <span class="info"><span class="'+t.role+'">'+t.capitalizedRole+"</span></span>"}},{key:"el",value:function(e,t,n){var i=document.createElement(e);return t&&(i.innerHTML=t),n&&(i.className=n),i}},{key:"append",value:function(e,t){t.forEach(function(t){e.appendChild(t)})}},{key:"_capitalize",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"events",set:function(e){this._eventsList.forEach(function(t){e[t]||console.error('Renderer Missing Event "'+t+'"')}),this._events=e},get:function(){return this._events}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(7)),r=function(e){function t(e){var n=e.clickEvent,i=e.content,a=void 0===i?"":i,r=e.classname,s=void 0===r?"":r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.$el=o.el("button",a,s),n&&o.$el.addEventListener("click",function(){return n()}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"enable",value:function(){this.$el.removeAttribute("disabled")}},{key:"disable",value:function(){this.$el.setAttribute("disabled",!0)}},{key:"content",value:function(e){this.$el.innerHTML=e}}]),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(7)),r=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"flex-list";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.$title=n.el("p",null,"label"),n.$ul=n.el("ul",null,e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"add",value:function(e){this.$ul.appendChild(this.el("li",e))}},{key:"title",value:function(e){this.$title.innerHTML=e}},{key:"instruction",value:function(e){this.$instruction.innerHTML=e}},{key:"reset",value:function(){this.title(""),this.$ul.innerHTML=""}},{key:"elements",get:function(){return[this.$title,this.$ul]}}]),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(5).env,r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"r",value:function(e){var t="string"==typeof e?e:e.join("/");return a+"/"+this._key+"/"+t}},{key:"db",get:function(){return firebase.database()}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(12)),r=i(n(13)),s=i(n(15)),o=i(n(16)),l={App:new a.default,Games:new r.default,Players:new s.default,Users:new o.default};t.default=l},function(e,t,n){"use strict";e.exports={env:"production"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(20)),r=i(n(21)),s=i(n(22)),o=i(n(23)),l=i(n(24)),u=i(n(25)),c=i(n(26)),h=i(n(27)),d={NewVersion:a.default,Auth:r.default,Launch:s.default,Start:o.default,Selections:l.default,Reveal:u.default,Actions:c.default,Results:h.default};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"el",value:function(e,t,n){var i=document.createElement(e);return t&&(i.innerHTML=t),n&&(i.className=n),i}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=[e[n],e[t]];e[t]=i[0],e[n]=i[1]}return e}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=(i(n(4)),i(n(10))),o=i(n(8)),l=function(){function e(t){var n=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=n,this.id=n.gameId,this.playerId=n.playerId,this._={},this.topicGenerator=new s.default}return r(e,[{key:"detectAllActionsSubmitted",value:function(){return Object.keys(this.actions).length===this.playerCount}},{key:"detectAllSelectionsSubmitted",value:function(){return Object.keys(this.selections).length===this.playerCountAlive}},{key:"calculateRoundOverData",value:function(e){var t={imposter:0,agent:0},n={imposter:0,agent:0},i=[],a=[];for(var r in e){var s=e[r].role;e[r].isAlive?(n[s]++,i.push(r)):(t[s]++,a.push(r))}return{aliveCounts:n,aliveIds:i,deadCounts:t,deadIds:a,roundOver:0===n.imposter||0===n.agent}}},{key:"calculatePoints",value:function(t,n){var i=n.aliveCounts,a=(n.aliveIds,{}),r=null;n.roundOver&&(i.imposter>0?r="imposter":i.agent>0&&(r="agent"));for(var s in t){var o=t[s],l=o.role,u=e.survivePoints[l];if(r&&r===l){var c=o.isAlive?e.winPoints+u:e.winPoints;a[s]=c}else r||o.isAlive&&(a[s]=u)}return a}},{key:"update",value:function(e){var t=this;this.changes={},["status","actions","selections","killedIds"].forEach(function(n){t.changes[n]=e[n]!==t._[n]}),this._=e}},{key:"generateRoundData",value:function(){var e,t=Object.keys(this.state.players),n=this._generateRoles(t),i=n.playerIdsImposters,r=n.playerIdsAgents,s=n.imposterCount,o=t.length,l=this.generateTopics();return{game:(e={playerCountAlive:o,playerCount:o,inProgress:!0,actions:{},selections:{},killVotes:{},killedIds:[],aliveCounts:{imposter:0,agent:0},aliveIds:[],deadCounts:{imposter:0,agent:0},deadIds:[]},a(e,"selections",1),a(e,"imposterCount",s),a(e,"topics",l),a(e,"roundOver",!1),e),players:{playerIdsImposters:i,playerIdsAgents:r}}}},{key:"generateTopics",value:function(){var e=this;return[1,2,3,4].map(function(t){return e.topicGenerator.loadTopic()})}},{key:"generateActionIds",value:function(){var e={},t=[],n={},i=[],a=0;for(var r in this.actions){var s=this.actions[r],o=2===this.playerCountAlive;this.state.players[r].isAlive||o?(e[s]=e[s]||0,e[s]++):(n[s]=n[s]||0,n[s]++)}for(var l in e){var u=e[l];u>a?(a=u,t=[l]):u===a&&t.push(l)}for(var c in n){n[c];i.push(c)}return{confusionVotes:n,confusionIds:i,killVotes:e,killedIds:t}}},{key:"_generateRoles",value:function(e){var t=(0,o.default)(Array.from(e)),n=this._distributor(e.length),i=n[0],a=n[1],r=t.slice(0,i);return{playerIdsImposters:t=t.slice(i),playerIdsAgents:r,imposterCount:a}}},{key:"_distributor",value:function(e){var t=Math.max(Math.floor(.75*e),1);return[t,e-t]}},{key:"aliveCounts",get:function(){return this._.aliveCounts}},{key:"aliveIds",get:function(){return this._.aliveIds}},{key:"confusionVotes",get:function(){return this._.confusionVotes}},{key:"deadCounts",get:function(){return this._.deadCounts}},{key:"deadIds",get:function(){return this._.deadIds}},{key:"imposterCount",get:function(){return this._.imposterCount}},{key:"killedIds",get:function(){return this._.killedIds}},{key:"killVotes",get:function(){return this._.killVotes}},{key:"playerCount",get:function(){return this._.playerCount}},{key:"playerCountAlive",get:function(){return this._.playerCountAlive}},{key:"roundOver",get:function(){return this._.roundOver}},{key:"selections",get:function(){return this._.selections}},{key:"status",get:function(){return this._.status}},{key:"topics",get:function(){return this._.topics}},{key:"actions",get:function(){return this._.actions}},{key:"isActions",get:function(){return"actions"===this.status}},{key:"isSelections",get:function(){return"selections"===this.status}},{key:"_ref",get:function(){return"/games/"+this.id}},{key:"_playersRef",get:function(){return"/players/"+this.id}}],[{key:"survivePoints",get:function(){return{agent:1,imposter:2}}},{key:"winPoints",get:function(){return 3}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.indexes=[]}return i(e,[{key:"loadTopic",value:function(){return this.topics[this.findIndex()]}},{key:"findIndex",value:function(){var e=Math.floor(Math.random()*this.topics.length);return this.indexes.includes(e)?this.findIndex():(this.indexes.push(e),e)}},{key:"topics",get:function(){return[["activities","Archery"],["activities","Artistry"],["activities","Astronomy"],["activities","Athletics"],["activities","Baseball"],["activities","Basketball"],["activities","Billiards"],["activities","Books"],["activities","Boxing"],["activities","Boy Scouts"],["activities","Buddhism"],["activities","Canoes"],["activities","Car Racing"],["activities","Carousel"],["activities","Carpentry"],["activities","Chess"],["activities","Cigarettes"],["activities","Cycling"],["activities","Dance"],["activities","Diving"],["activities","Fencing"],["activities","Fishing"],["activities","Football"],["activities","Games"],["activities","Golf"],["activities","Gymnastics"],["activities","Hockey"],["activities","Hunting"],["activities","Mountaineering"],["activities","Painting"],["activities","Parachuting"],["activities","Playing Cards"],["activities","Pottery"],["activities","Rugby"],["activities","Saddle"],["activities","Sailing"],["activities","Seesaws"],["activities","Skating"],["activities","Skiing"],["activities","Smoking"],["activities","Soccer"],["activities","Sports"],["activities","Swimming Pool"],["activities","Swings"],["activities","Tanning"],["activities","Tattoos"],["activities","Tennis"],["activities","Olympic Games"],["activities","Tobacco"],["activities","Treadmill"],["activities","Volleyball"],["activities","Water Skiing"],["activities","Weaving"],["activities","Whistling"],["activities","Wrestling"],["animals","Aardvark"],["animals","Alligators"],["animals","Alpacas"],["animals","Ants"],["animals","Armadillos"],["animals","Baboons"],["animals","Badger"],["animals","Bats"],["animals","Bears"],["animals","Bees"],["animals","Beetles"],["animals","Birds"],["animals","Buffaloes"],["animals","Butterflies"],["animals","Camels"],["animals","Cats"],["animals","Caterpillars"],["animals","Cheetahs"],["animals","Chipmunk"],["animals","Cows"],["animals","Coyotes"],["animals","Cricket"],["animals","Crocodiles"],["animals","Deer"],["animals","Dinosaurs"],["animals","Dogs"],["animals","Dolphins"],["animals","Donkeys"],["animals","Doves"],["animals","Ducks"],["animals","Eagle"],["animals","Eels"],["animals","Elephants"],["animals","Ferrets"],["animals","Fish"],["animals","Flamingos"],["animals","Foxes"],["animals","Frogs"],["animals","Geese"],["animals","Giraffes"],["animals","Goats"],["animals","Goldfish"],["animals","Gorillas"],["animals","Hamsters"],["animals","Hippopotamus"],["animals","Horses"],["animals","Hornets"],["animals","Hummingbirds"],["animals","Hyenas"],["animals","Iguanas"],["animals","Insects"],["animals","Jaguars"],["animals","Jellyfish"],["animals","Kangaroos"],["animals","Koalas"],["animals","Komodo Dragons"],["animals","Ladybugs"],["animals","Leeches"],["animals","Lemurs"],["animals","Lions"],["animals","Lizards"],["animals","Llamas"],["animals","Lobsters"],["animals","Macaws"],["animals","Manta Rays"],["animals","Mastadons"],["animals","Mice"],["animals","Mollusks"],["animals","Monkeys"],["animals","Mosquitoes"],["animals","Moths"],["animals","Mules"],["animals","Octopuses"],["animals","Ostriches"],["animals","Otters"],["animals","Owls"],["animals","Oxen"],["animals","Pandas"],["animals","Panthers"],["animals","Peacocks"],["animals","Pelicans"],["animals","Penguins"],["animals","Pigeons"],["animals","Pigs"],["animals","Piranhas"],["animals","Porcupines"],["animals","Possums"],["animals","Pythons"],["animals","Rabbits"],["animals","Raccoons"],["animals","Ravens"],["animals","Rhinoceroses"],["animals","Roosters"],["animals","Scorpions"],["animals","Sharks"],["animals","Sheep"],["animals","Shrimp"],["animals","Snail"],["animals","Snakes"],["animals","Sparrows"],["animals","Squids"],["animals","Swans"],["animals","Tarantulas"],["animals","Tigers"],["animals","Toads"],["animals","Turkeys"],["animals","Turtles"],["animals","Vulture"],["animals","Walruses"],["animals","Whales"],["animals","Wolves"],["animals","Worms"],["animals","Zebras"],["art","Accordions"],["art","Albums"],["art","Artists"],["art","Bass"],["art","Bohemians"],["art","Cameras"],["art","Cellos"],["art","Compact Discs"],["art","Drawings"],["art","Drums"],["art","Films"],["art","Flutes"],["art","Guitars"],["art","Harps"],["art","Hieroglyphics"],["art","Jewelery"],["art","Mandolins"],["art","Marionettes"],["art","Movies"],["art","Music"],["art","Novels"],["art","Pianos"],["art","Pipe Organs"],["art","Pottery"],["art","Puppets"],["art","Records"],["art","Saxophones"],["art","Sculpture"],["art","Singing"],["art","Sketching"],["art","Synthesizers"],["art","Trumpets"],["art","Typewriters"],["art","Ukuleles"],["art","Violas"],["art","Violins"],["art","Writing"],["art","Yodeling"],["fiction","Aladdin"],["fiction","Aliens"],["fiction","Alice in Wonderland"],["fiction","Bambi"],["fiction","Batman"],["fiction","Bilbo Baggins"],["fiction","Boogeyman"],["fiction","Cinderella"],["fiction","Donald Duck"],["fiction","E.T."],["fiction","Fairies"],["fiction","Forrest Gump"],["fiction","Freaks"],["fiction","Gandalf"],["fiction","Giants"],["fiction","Harry Potter"],["fiction","Hermione Granger"],["fiction","Horoscope"],["fiction","James Bond"],["fiction","Luke Skywalker"],["fiction","Mickey Mouse"],["fiction","Minnie Mouse"],["fiction","Monsters"],["fiction","Mother Goose"],["fiction","Mummies"],["fiction","Muppets"],["fiction","Optimus Prime"],["fiction","Peter Pan"],["fiction","Princess Leia"],["fiction","Santa"],["fiction","Shrek"],["fiction","Snow White"],["fiction","Superman"],["fiction","The Joker"],["fiction","Vampire"],["fiction","Werewolves"],["fiction","Winnie the Pooh"],["fiction","Witch"],["fiction","Wolverine"],["fiction","Wonder Woman"],["fiction","Yoda"],["fiction","Zombies"],["food","Apples"],["food","Bakeries"],["food","Bananas"],["food","Barbecue"],["food","Beef Jerky"],["food","Beekeeping"],["food","Breads"],["food","Breastfeeding"],["food","Cappuccino"],["food","Carrots"],["food","Cheeseburger"],["food","Cheeses"],["food","Chocolates"],["food","Cocoa"],["food","Coffee"],["food","Cookies"],["food","Doughnut"],["food","Drink"],["food","Eggs"],["food","Fortune Cookies"],["food","Fried Chicken"],["food","Fruit"],["food","Garden"],["food","Grapes"],["food","Grits"],["food","Hot Dog"],["food","Ice Cream"],["food","Jello"],["food","Meat"],["food","Milkshake"],["food","Onion"],["food","Pancake"],["food","Pepper"],["food","Pineapple"],["food","Pizza"],["food","Pork"],["food","Potatoes"],["food","Rice"],["food","Salt"],["food","Sandwich"],["food","Sausages"],["food","Spice"],["food","Sugar"],["food","Tomatoes"],["food","Vanilla"],["food","Vegetables"],["government","Agriculture"],["government","Aircraft Carrier"],["government","Airforce"],["government","Army"],["government","Budget"],["government","CIA"],["government","Communism"],["government","Congress"],["government","Crime"],["government","Criminals"],["government","Democracy"],["government","Execution"],["government","Health Insurance"],["government","Homeland Security"],["government","Judges"],["government","Justice"],["government","Mayors"],["government","Military"],["government","Monarchy"],["government","Money"],["government","Napoleon"],["government","Native Americans"],["government","Navy"],["government","President"],["government","Public Education"],["government","Racism"],["government","Red Cross"],["government","Royalty"],["government","Senate"],["government","Slavery"],["government","Socialism"],["government","Spies"],["government","Taxes"],["government","The Economy"],["government","Torture"],["government","World War II"],["household","Backpack"],["household","Bathtub"],["household","Beds"],["household","Bible"],["household","Bottle"],["household","Bowl"],["household","Boxes"],["household","Button"],["household","Cards"],["household","Carpet"],["household","Chair"],["household","Checkbook"],["household","Clock"],["household","Coins"],["household","Computer"],["household","Cups"],["household","Desk"],["household","Disney Movies"],["household","Dress"],["household","Drill"],["household","Eraser"],["household","Fans"],["household","Floodlight"],["household","Fork"],["household","Gate"],["household","Gloves"],["household","Hammer"],["household","Hammocks"],["household","Hats"],["household","Hose"],["household","Junk"],["household","Kaleidoscope"],["household","Knife"],["household","Laundry"],["household","Leather Jacket"],["household","Lighters"],["household","Matches"],["household","Nail"],["household","Necklace"],["household","Needle"],["household","Newspapers"],["household","Pants"],["household","Perfume"],["household","Pillar"],["household","Pillow"],["household","Pipes"],["household","Postcards"],["household","Printer"],["household","Radio"],["household","Ring"],["household","Roof"],["household","Rope"],["household","Sandpaper"],["household","Sewing Machines"],["household","Shoes"],["household","Shovels"],["household","Shower"],["household","Spoon"],["household","Spotlight"],["household","Staircase"],["household","Sunglasses"],["household","Table"],["household","Tapestry"],["household","Television"],["household","Toilet"],["household","Umbrella"],["household","Vacuum"],["household","Wheelchair"],["household","Window"],["nature","Adult"],["nature","Arms"],["nature","Baby"],["nature","Boys"],["nature","Brain"],["nature","Breeze"],["nature","Cactus"],["nature","Caves"],["nature","Child"],["nature","Coal"],["nature","Comet"],["nature","Cotton"],["nature","Crystal"],["nature","Diamonds"],["nature","Disasters"],["nature","Dung"],["nature","Ears"],["nature","Earthquake"],["nature","Electricity"],["nature","Eyes"],["nature","Family"],["nature","Feather"],["nature","Finger"],["nature","Fire"],["nature","Flood"],["nature","Flower"],["nature","Foot"],["nature","Fungus"],["nature","Gases"],["nature","Gemstone"],["nature","Girl"],["nature","God"],["nature","Gold"],["nature","Hurricanes"],["nature","Icicle"],["nature","Jungles"],["nature","Leather"],["nature","Legs"],["nature","Liquid"],["nature","Magnet"],["nature","Meteor"],["nature","Meteorology"],["nature","Mist"],["nature","Moon"],["nature","Motherhood"],["nature","Mouth"],["nature","Oil"],["nature","Outer Space"],["nature","Pebble"],["nature","Rainbow"],["nature","Rock"],["nature","Seashells"],["nature","Shells"],["nature","Skeleton"],["nature","Skull"],["nature","Snow"],["nature","Spirits"],["nature","Star"],["nature","Stomach"],["nature","Sun"],["nature","Teeth"],["nature","Tongue"],["nature","Vaccines"],["nature","Volcanoes"],["nature","Water"],["nature","Winter"],["nature","Woman"],["nature","Wood"],["occupations","Accountant"],["occupations","Archaeologist"],["occupations","Architect"],["occupations","Banker"],["occupations","Boss"],["occupations","Botanist"],["occupations","Butler"],["occupations","Chief"],["occupations","Clowns"],["occupations","Cobblers"],["occupations","Electrician"],["occupations","Engineering"],["occupations","Fireman"],["occupations","Fortune Tellers"],["occupations","Journalism"],["occupations","Librarians"],["occupations","Magicians"],["occupations","Mailperson"],["occupations","Masonry"],["occupations","Mechanic"],["occupations","Medicine"],["occupations","Mining"],["occupations","Nurses"],["occupations","Paper Delivery"],["occupations","Pilot"],["occupations","Plumber"],["occupations","Police Officer"],["occupations","Psychiatrists"],["occupations","Shipping"],["occupations","Surveyor"],["occupations","Tax Collector"],["occupations","Teacher"],["occupations","Veterinarians"],["occupations","Waiters"],["occupations","Zookeepers"],["personalities","Abraham Lincoln"],["personalities","Adolf Hitler"],["personalities","Albert Einstein"],["personalities","Alfred Hitchcock"],["personalities","Angelina Jolie"],["personalities","Anne Frank"],["personalities","Arnold Schwarzenegger"],["personalities","Audrey Hepburn"],["personalities","Barack Obama"],["personalities","Bill Gates"],["personalities","Charles Darwin"],["personalities","Dalai Lama"],["personalities","Donald Trump"],["personalities","Elvis Presley"],["personalities","George W Bush"],["personalities","Jesse Owens"],["personalities","John F Kennedy"],["personalities","Lance Armstrong"],["personalities","Madonna"],["personalities","Marilyn Monroe"],["personalities","Martin Luther King Jr"],["personalities","Michael Jackson"],["personalities","Michael Jordan"],["personalities","Muhammad Ali"],["personalities","Nelson Mandela"],["personalities","Oprah Winfrey"],["personalities","Pablo Picasso"],["personalities","Paul McCartney"],["personalities","Princess Diana"],["personalities","Queen Elizabeth II"],["personalities","Rosa Parks"],["personalities","Steve Jobs"],["personalities","Thomas Edison"],["personalities","Tom Cruise"],["personalities","Vincent Van Gogh"],["personalities","Vladimir Putin"],["places","Africa"],["places","America"],["places","Amusement Parks"],["places","Asia"],["places","Bank"],["places","Barber"],["places","Bathroom"],["places","Blacksmiths"],["places","Brewery"],["places","Bridge"],["places","Cemetery"],["places","Central America"],["places","Church"],["places","Circus"],["places","Coffee Shop"],["places","Dentist"],["places","Drugstores"],["places","Earth"],["places","Egypt"],["places","Europe"],["places","Farm"],["places","Farmers Markets"],["places","Festival"],["places","France"],["places","Freeway"],["places","Funerals"],["places","Gas Station"],["places","Highway"],["places","Hotels"],["places","Jamaica"],["places","Kitchen"],["places","Library"],["places","Lighthouses"],["places","Mass"],["places","Movie Theaters"],["places","North Africa"],["places","Pharmacy"],["places","Planet"],["places","Post Office"],["places","Prisons"],["places","Restaurant"],["places","Room"],["places","Salvation Army"],["places","School"],["places","Shop"],["places","South America"],["places","Spas"],["places","Stadiums"],["places","Theme Parks"],["places","Wedding"],["places","Windmills"],["sciences","Antennas"],["sciences","Cable"],["sciences","Cancer"],["sciences","Climate Change"],["sciences","Code"],["sciences","Databases"],["sciences","Disease"],["sciences","Internet"],["sciences","Internet Providers"],["sciences","Microscope"],["sciences","Microsoft"],["sciences","Programming"],["sciences","Radar"],["sciences","Radiology"],["sciences","Robot"],["sciences","Satellite"],["sciences","Software"],["sciences","Telephone"],["sciences","Telescope"],["sciences","The Cloud"],["sciences","Thermometer"],["sciences","Videotape"],["sciences","X-rays"],["travel","Airplane"],["travel","Airports"],["travel","Boats"],["travel","Cars"],["travel","Compass"],["travel","Ferries"],["travel","Flight"],["travel","Jet Fighter"],["travel","Maps"],["travel","Motorcycles"],["travel","Passport"],["travel","Plane"],["travel","Railroads"],["travel","Rocket"],["travel","Ship"],["travel","Shipwreck"],["travel","Space Shuttle"],["travel","Sports Car"],["travel","Submarines"],["travel","Train"],["travel","Tunnel"],["travel","Zeppelins"],["violence","Atomic Bomb"],["violence","Axes"],["violence","Coffin"],["violence","Death"],["violence","Explosive"],["violence","Grenade"],["violence","Hatchet"],["violence","Machine Gun"],["violence","Murder"],["violence","Ninja Star"],["violence","Pistol"],["violence","Poison"],["violence","Rifle"],["violence","Spear"],["violence","Sword"],["violence","Torch"],["violence","Torpedo"],["violence","Weapon"]]}}]),e}();t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){s.default.Users.globalFindOrCreate(e).then(function(e){var t=e.user,n=function(e){var t="https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg";if(e.avatar&&e.avatar!==t)return e.avatar;if(e.image&&e.image!==t)return e.image;var n=u.default.Launch._avatars,i=n[Math.floor(Math.random()*n.length)];return u.default.Launch._avatarUrl(i)}(t);s.default.Users.globalUpdate(t.id,{avatar:n}).then(function(){s.default.Users.globalFind(t.id).then(function(e){return new l.default({user:e,auth:c})}).catch(r)}).catch(r)}).catch(r)}function r(e){console.error(e)}var s=i(n(4)),o=i(n(17)),l=i(n(19)),u=i(n(6));n(5);console.clear();var c=new o.default,h=.4;console.info("\n%cLexicon Standoff v"+h+"\n%c© Jake Albaugh "+(new Date).getFullYear()+"\nhttps://twitter.com/jake_albaugh\nhttps://github.com/jakealbaugh/lexicon_standoff\n","font-family: sans-serif; font-weight: bold;","font-family: sans-serif; font-weight: normal;"),c.detectExisting().then(function(e){s.default.App.findVersion().then(function(t){t===h?a(e):t<h||!t?s.default.App.updateVersion(h).then(function(){a(e)}).catch(r):function(){var e=new u.default.NewVersion(null,{});e.renderInitial(),e.render()}()}).catch(r)}).catch(function(){var e=new u.default.Auth(null,{});e.renderInitial(),e.render(),c.loadUI()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"findVersion",value:function(){var e=this;return new Promise(function(t,n){e.db.ref("_version").once("value").then(function(e){t(e.val())}).catch(n)})}},{key:"updateVersion",value:function(e){var t=this;return new Promise(function(n,i){t.db.ref("_version").set(e).then(n).catch(i)})}}]),t}();t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=i(n(14)),o=i(n(3)),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"globalFind",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(i,a){t.db.ref(t.r(e)).once("value").then(function(t){var r=t.val();null===r?a("No Game Found with name "+e):!0!==r.inProgress||n?i({game:r}):a("Game "+e+" is already in progress")}).catch(a)})}},{key:"globalAction",value:function(e,t,n){var i=this;return new Promise(function(r,s){i.db.ref(i.r(e)).child("actions").update(a({},t,n)).then(r).catch(s)})}},{key:"globalSelection",value:function(e,t,n){var i=this;return new Promise(function(r,s){i.db.ref(i.r(e)).child("selections").update(a({},t,n)).then(r).catch(s)})}},{key:"globalListener",value:function(e,t){this.db.ref(this.r(e)).on("value",function(e){t(e.val())})}},{key:"globalKill",value:function(e){this.db.ref(this.r(e)).off()}},{key:"masterCreate",value:function(e){var t=this;return new Promise(function(n,i){t._generateUniqueId().then(function(a){t.db.ref(t.r(a)).on("value",function(e){var i=e.val();i&&i.id===a&&(t.db.ref(t.r(a)).off(),n({game:i}))}),t.db.ref(t.r(a)).set({id:a,status:"start",inProgress:!1,masterId:e}).catch(i)}).catch(i)})}},{key:"masterDelete",value:function(e){var t=this;return new Promise(function(n,i){t.db.ref(t.r(e)).set(null).then(n).catch(i)})}},{key:"masterUpdateActionIds",value:function(e,t,n,i,a,r){var s=this;return new Promise(function(o,l){s.db.ref(s.r(e)).update({confusionVotes:t,confusionIds:n,killedIds:a,killVotes:i,playerCountAlive:r}).then(o).catch(l)})}},{key:"masterUpdateResults",value:function(e,t){var n=this;return new Promise(function(i,a){n.db.ref(n.r(e)).update(t).then(i).catch(a)})}},{key:"masterResetSelections",value:function(e,t,n){var i=this;return new Promise(function(r,s){var o;i.db.ref(i.r(e)).update((o={actions:{},selections:{},killedIds:[],killVotes:{},roundOver:!1},a(o,"selections",n),a(o,"aliveCounts",{imposter:0,agent:0}),a(o,"aliveIds",[]),a(o,"deadCounts",{imposter:0,agent:0}),a(o,"deadIds",[]),a(o,"topics",t),o)).then(r).catch(s)})}},{key:"masterUpdateRoundData",value:function(e,t){var n=this;return new Promise(function(i,a){n.db.ref(n.r(e)).update(t).then(i).catch(a)})}},{key:"masterUpdateStatus",value:function(e,t){var n=this;return new Promise(function(i,a){n.db.ref(n.r(e)).update({status:t}).then(i).catch(a)})}},{key:"_generateUniqueId",value:function(){var e=this;return new Promise(function(t,n){var i=(new s.default).loadSlug();e.db.ref(e.r("games/"+i)).once("value").then(function(n){null===n.val()?t(i):t(e._generateUniqueId())}).catch(n)})}},{key:"_key",get:function(){return"games"}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"loadSlug",value:function(){return""+this.getNoun()+this.getNumbers()}},{key:"getNumbers",value:function(){return[this._number(),this._number(),this._number()].join("")}},{key:"_number",value:function(){return Math.round(9*Math.random())}},{key:"getNoun",value:function(){return this.nouns[Math.floor(Math.random()*this.nouns.length)]}},{key:"nouns",get:function(){return["able","account","achieve","achiever","acoustics","act","action","activity","actor","addition","adjustment","advertisement","advice","aftermath","afternoon","afterthought","agreement","air","airplane","airport","alarm","alley","amount","amusement","anger","angle","animal","answer","ant","ants","apparatus","apparel","apple","apple","apples","appliance","approval","arch","argument","arithmetic","arm","army","art","attack","attempt","attention","attraction","aunt","authority","babies","baby","back","badge","bag","bait","balance","ball","balloon","balls","banana","band","base","baseball","basin","basket","basketball","bat","bath","battle","bead","beam","bean","bear","bears","beast","bed","bedroom","beds","bee","beef","beetle","beggar","beginner","behavior","belief","believe","bell","bells","berry","bike","bikes","bird","birds","birth","birthday","bit","bite","blade","blood","blow","board","boat","boats","body","bomb","bone","book","book","books","boot","border","bottle","boundary","box","boy","boy","boys","brain","brake","branch","brass","bread","breakfast","breath","brick","bridge","brother","brothers","brush","bubble","bucket","building","bulb","bun","burn","burst","bushes","business","butter","button","cabbage","cable","cactus","cake","cakes","calculator","calendar","camera","camp","can","cannon","canvas","cap","caption","car","card","care","carpenter","carriage","cars","cart","cast","cat","cats","cattle","cause","cave","celery","cellar","cemetery","cent","chain","chair","chairs","chalk","chance","change","channel","cheese","cherries","cherry","chess","chicken","chickens","children","chin","church","circle","clam","class","clock","clocks","cloth","cloud","clouds","clover","club","coach","coal","coast","coat","cobweb","coil","collar","color","comb","comfort","committee","company","comparison","competition","condition","connection","control","cook","copper","copy","cord","cork","corn","cough","country","cover","cow","cows","crack","cracker","crate","crayon","cream","creator","creature","credit","crib","crime","crook","crow","crowd","crown","crush","cry","cub","cup","current","curtain","curve","cushion","dad","daughter","day","death","debt","decision","deer","degree","design","desire","desk","destruction","detail","development","digestion","dime","dinner","dinosaurs","direction","dirt","discovery","discussion","disease","disgust","distance","distribution","division","dock","doctor","dog","dogs","doll","dolls","donkey","door","downtown","drain","drawer","dress","drink","driving","drop","drug","drum","duck","ducks","dust","dust","ear","earth","earthquake","edge","education","effect","egg","eggnog","eggs","elbow","end","engine","error","event","example","exchange","existence","expansion","experience","expert","eye","eyes","face","fact","fairies","fall","family","fan","fang","farm","farmer","father","father","faucet","fear","feast","feather","feeling","feet","fiction","field","fifth","fight","finger","finger","fire","fireman","fish","flag","flame","flavor","flesh","flight","flock","floor","flower","flowers","fly","fog","fold","food","foot","force","fork","form","fowl","frame","friction","friend","friends","frog","frogs","front","fruit","fuel","furniture","galley","game","garden","gate","geese","ghost","giants","giraffe","girl","girls","glass","glove","glue","goat","gold","goldfish","goodbye","goose","goose","government","governor","grade","grain","grandfather","grandmother","grape","grass","grip","ground","group","growth","guide","guitar","gun","hair","haircut","hall","hammer","hand","hands","harbor","harmony","hat","hate","head","health","hearing","heart","heat","help","hen","hill","history","hobbies","hole","holiday","home","honey","hook","hope","horn","horse","horses","hose","hospital","hot","hour","house","houses","humor","hydrant","ice","icicle","idea","impulse","income","increase","industry","ink","insect","instrument","insurance","interest","invention","iron","island","jail","jake","jam","jar","jeans","jelly","jellyfish","jewel","join","joke","journey","judge","juice","jump","kettle","key","kick","kiss","kite","kite","kitten","kitten","kittens","kitty","knee","knife","knot","knowledge","laborer","lace","ladybug","lake","lamp","land","language","laugh","lawyer","lead","leaf","learning","leather","leg","legs","letter","letters","lettuce","level","library","lift","light","limit","line","linen","lip","liquid","list","lizards","loaf","lock","locket","look","loss","love","low","lumber","lunch","lunchroom","machine","magic","maid","mailbox","man","manager","map","marble","mark","market","mask","mass","match","meal","meal","measure","meat","meeting","memory","men","metal","mice","middle","milk","mind","mine","minister","mint","minute","mist","mitten","mom","money","monkey","month","moon","morning","mother","mother","motion","mountain","mouth","move","muscle","music","nail","name","nation","neck","need","needle","nerve","nest","net","news","night","noise","north","nose","note","notebook","number","nut","oatmeal","observation","ocean","offer","office","oil","operation","opinion","orange","oranges","order","organization","ornament","oven","owl","owner","page","pail","pail","pain","paint","pan","pancake","paper","parcel","parent","park","part","partner","party","passenger","paste","patch","payment","peace","pear","pear","pen","pencil","person","pest","pet","pets","pickle","picture","pie","pies","pig","pigs","pin","pipe","pizzas","place","plane","planes","plant","plantation","plants","plastic","plate","play","playground","pleasure","plot","plough","pocket","point","poison","police","polish","pollution","popcorn","porter","position","pot","potato","powder","power","price","print","prison","process","produce","profit","property","prose","protest","pull","pump","punishment","purpose","push","quarter","quartz","queen","question","quicksand","quiet","quill","quilt","quince","quiver","rabbit","rabbits","rail","railway","rain","rainstorm","rake","range","rat","rate","ray","reaction","reading","reason","receipt","recess","record","regret","relation","religion","representative","request","respect","rest","reward","rhythm","rice","riddle","rifle","ring","rings","river","road","robin","rock","rod","roll","roof","room","root","rose","route","rub","rule","run","sack","sail","salt","sand","scale","scale","scarecrow","scarf","scene","scent","school","science","scissors","screw","sea","seashore","seat","secretary","seed","selection","self","sense","servant","shade","shake","shame","shape","sheep","sheet","shelf","ship","shirt","shock","shoe","shoes","shop","show","side","sidewalk","sign","silk","silver","sink","sister","sisters","size","skate","skin","skirt","sky","slave","sleep","sleet","slip","slope","smash","smell","smile","smoke","snail","snails","snake","snakes","sneeze","snow","soap","society","sock","soda","sofa","son","song","songs","sort","sound","soup","space","spade","spark","spiders","sponge","spoon","spot","spring","spy","square","squirrel","stage","stamp","star","start","statement","station","steam","steel","stem","step","stew","stick","sticks","stitch","stocking","stomach","stone","stop","store","story","stove","stranger","straw","stream","street","stretch","string","structure","substance","sugar","suggestion","suit","summer","summer","sun","support","surprise","sweater","swim","swing","system","table","tail","talk","tank","taste","tax","teaching","team","teeth","temper","tendency","tent","territory","test","texture","theory","thing","things","thought","thread","thrill","throat","throne","throne","thumb","thunder","ticket","tiger","time","tin","title","toad","toe","toes","tomatoes","tongue","tooth","toothbrush","toothpaste","top","touch","town","toy","toys","trade","trail","train","trains","tramp","transport","tray","treatment","tree","trees","trick","trip","trouble","trousers","truck","trucks","tub","turkey","selection","twig","twist","umbrella","uncle","underwear","unit","use","vacation","value","van","vase","vegetable","veil","vein","verse","vessel","vest","view","visitor","voice","volcano","volleyball","voyage","walk","wall","war","wash","waste","watch","water","water","wave","waves","wax","way","wealth","weather","week","weight","wheel","whip","whistle","wilderness","wind","window","wine","wing","winter","winter","wire","wish","woman","women","wood","wool","word","work","worm","wound","wren","wrench","wrist","writer","writing","yak","yam","yard","yarn","year","yoke","zebra","zephyr","zinc","zipper","zoo"]}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"globalFindOrCreate",value:function(e,t,n){var i=this;return new Promise(function(a,r){i.globalFind(t,e.id).then(function(e){var t=e.player;a({player:t})}).catch(function(){i.globalCreate(t,e,n).then(function(){i.globalFind(t,e.id).then(function(e){var t=e.player;a({player:t})}).catch(r)}).catch(r)})})}},{key:"globalCreate",value:function(e,t,n){var i=this;return new Promise(function(a,r){var s=t.id,o=t.name,l=t.avatar,u=(t.alive,{id:s,gameId:e,name:o,avatar:l,master:n,score:0,scoreRound:0});i.db.ref(i.r([e,s])).set(u).then(a).catch(r)})}},{key:"globalLeave",value:function(e,t){var n=this;return new Promise(function(i,a){n.db.ref(n.r([e,t])).set(null).then(i).catch(a)})}},{key:"globalFind",value:function(e,t){var n=this;return new Promise(function(i,a){n.db.ref(n.r([e,t])).once("value").then(function(e){var t=e.val();null!==t?i({player:t}):a()}).catch(a)})}},{key:"globalListenerAdded",value:function(e,t){this.db.ref(this.r(e)).on("child_added",function(e){t(e.val())})}},{key:"globalListenerRemoved",value:function(e,t){var n=this;this.db.ref(this.r(e)).on("child_removed",function(i){var a=i.val();n.db.ref(n.r([e,a.id])).off(),t(a)})}},{key:"globalListenerPlayer",value:function(e,t,n){this.db.ref(this.r([e,t])).on("value",function(e){n(e.val())})}},{key:"masterDelete",value:function(e){var t=this;return new Promise(function(n,i){t.db.ref(t.r(e)).set(null).then(n).catch(i)})}},{key:"masterActOnPlayers",value:function(e,t,n,i){var a=this;return new Promise(function(r,s){var o=Object.keys(t).length;for(var l in t){var u={confused:i.includes(l)};n.includes(l)&&(u.alive=!1),a.db.ref(a.r([e,l])).update(u).then(function(){--o<=0&&r()}).catch(s)}})}},{key:"masterResetStart",value:function(e){var t=this;return new Promise(function(n,i){var a=Object.keys(e).length;for(var r in e){t.db.ref(t.r([e[r].gameId,r])).update({score:0}).then(function(){--a<=0&&n()}).catch(i)}})}},{key:"masterTallyScores",value:function(e,t){var n=this;return new Promise(function(i,a){var r=Object.keys(e).length;for(var s in e){var o=t[s],l=e[s];if(o){var u=l.scoreRound+o,c=l.score+o;n.db.ref(n.r([l.gameId,s])).update({score:c,scoreRound:u}).then(function(){--r<=0&&i()}).catch(a)}else--r<=0&&i()}})}},{key:"masterUpdateRoundData",value:function(e,t){var n=this,i=t.playerIdsImposters,a=t.playerIdsAgents;return new Promise(function(t,r){var s=Object.keys(e).length;for(var o in e){var l=e[o],u=void 0;u=i.includes(o)?"imposter":(a.includes(o),"agent"),n.db.ref(n.r([l.gameId,o])).update({role:u,alive:!0,confused:!1,scoreRound:0}).then(function(){--s<=0&&t()}).catch(r)}})}},{key:"_key",get:function(){return"players"}}]),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"globalFindOrCreate",value:function(e){var t=this;return new Promise(function(n,i){var a=t._userDataFromParams(e);t.globalFind(a.id).then(function(e){n({user:e})}).catch(function(){t.globalCreate(a).then(function(){t.globalFind(a.id).then(function(e){n({user:e})}).catch(i)}).catch(i)})})}},{key:"globalCreate",value:function(e){var t=this;return new Promise(function(n,i){t.db.ref(t.r(e.id)).set(e).then(n).catch(i)})}},{key:"globalDelete",value:function(e){var t=this;return new Promise(function(n,i){t.db.ref(t.r(e)).set(null).then(n).catch(i)})}},{key:"globalFind",value:function(e){var t=this;return new Promise(function(n,i){t.db.ref(t.r(e)).once("value").then(function(e){var t=e.val();null!==t?n(t):i()}).catch(i)})}},{key:"globalUpdate",value:function(e,t){var n=this;return new Promise(function(i,a){n.db.ref(n.r(e)).update(t).then(i).catch(a)})}},{key:"_userDataFromParams",value:function(e){var t=e.uid,n=e.photoURL;return{id:t,avatar:n,image:n,name:this._safeName(e.displayName)}}},{key:"_safeName",value:function(e){return e?e.replace(/ .+$/,"").substring(0,12):this._names[Math.floor(Math.random()*this._names.length)]}},{key:"_key",get:function(){return"users"}},{key:"_names",get:function(){return["Angsty","Babe","Baby","BFF","Birdie","Booger","Captain","Cuddles","Darling","Doll","Fighter","Goober","Heisenberg","Honey","Hot Lips","Hunk","Jello","King","Lover","Mama","Muffin","Muppet","Papi","Peanut","Pookie","Pop Tart","Punk","Queen","Sailor","Shorty","Simba","Soldier","Sport","Sugar","Superstar","Tiger","Tinkerbell"]}}]),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(18),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),firebase.initializeApp(a)}return i(e,[{key:"signOut",value:function(){return new Promise(function(e,t){firebase.auth().signOut().then(e).catch(t)})}},{key:"detectExisting",value:function(){return new Promise(function(e,t){firebase.auth().onAuthStateChanged(function(n){n?e(n):t()})})}},{key:"loadUI",value:function(){new firebaseui.auth.AuthUI(firebase.auth()).start(".firebaseui-auth",{signInSuccessUrl:"/",signInOptions:[firebase.auth.GoogleAuthProvider.PROVIDER_ID,firebase.auth.TwitterAuthProvider.PROVIDER_ID,firebase.auth.PhoneAuthProvider.PROVIDER_ID],tosUrl:"/toc"})}}]),e}();t.default=r},function(e,t,n){"use strict";e.exports={apiKey:"AIzaSyBpZA1-uyug0KrUvgAOSfQwrMVvw4BtV-Y",authDomain:"lexicon-standoff.firebaseapp.com",databaseURL:"https://lexicon-standoff.firebaseio.com",projectId:"lexicon-standoff",storageBucket:"",messagingSenderId:"856454410862"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(4)),s=i(n(6)),o=i(n(9)),l=i(n(10)),u=i(n(28)),c="development"===n(5).env,h="TEST_USER_",d=function(){function e(t){var n=t.user,i=t.auth;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.auth=i,this.user=n,this.initializeLaunch(),this.initialize()}return a(e,[{key:"initializeLaunch",value:function(){this.launch=new s.default.Launch(null,{createGame:this.createGame.bind(this),findGame:this.findGame.bind(this),signOut:this.signOut.bind(this),updateUser:this.updateUser.bind(this)}),this.launch.renderInitial()}},{key:"initialize",value:function(){var e=this;this.user.currentGameId?r.default.Games.globalFind(this.user.currentGameId,!0).then(this.initializeGame.bind(this)).catch(function(){e.launch.render({user:e.user})}):this.launch.render({user:this.user})}},{key:"createGame",value:function(){var e=this;r.default.Games.masterCreate(this.user.id).then(function(t){return e.initializeGame(t,!0)}).catch(this.handleError.bind(this))}},{key:"findGame",value:function(e){r.default.Games.globalFind(e,!1).then(this.initializeGame.bind(this)).catch(this.handleError.bind(this))}},{key:"signOut",value:function(){var e=this;r.default.Users.globalDelete(this.user.id).then(function(){e.auth.signOut().then(function(){window.location.reload(!0)})})}},{key:"updateUser",value:function(e){var t=this;r.default.Users.globalUpdate(this.user.id,e).then(function(){r.default.Users.globalFind(t.user.id).then(function(e){t.user=e,t.launch.render({user:e})})})}},{key:"handleGameChanges",value:function(){this.game.changes.status&&this.handleStatusChange(),this.game.changes.actions&&this.handleActionsChange(),this.game.changes.selections&&this.handleSelectionsChange(),this.master&&this.game.isActions&&this.game.changes.killedIds&&this.handleKilledIdsChange()}},{key:"handleStatusChange",value:function(){this.game._&&this.render()}},{key:"handleKilledIdsChange",value:function(){var e=this,t=this.game.calculateRoundOverData(this.players),n=this.game.calculatePoints(this.players,t);r.default.Players.masterTallyScores(this.players,n).then(function(){var n={status:"results",aliveCounts:t.aliveCounts,aliveIds:t.aliveIds,deadCounts:t.deadCounts,deadIds:t.deadIds,roundOver:t.roundOver};r.default.Games.masterUpdateResults(e.game.id,n)})}},{key:"handleActionsChange",value:function(){var e=this;if(this.game.isActions){if(this.master&&this.game.detectAllActionsSubmitted()&&!this.actionLock){this.actionLock=!0;var t=this.game.generateActionIds(),n=t.confusionVotes,i=t.confusionIds,a=t.killVotes,s=t.killedIds;r.default.Players.masterActOnPlayers(this.game.id,this.players,s,i).then(function(){var t=e.game.playerCountAlive-s.length;r.default.Games.masterUpdateActionIds(e.game.id,n,i,a,s,t).then(function(){e.actionLock=!1})})}this.renderers.actions.renderWaiting({players:this.players,actions:this.game.actions})}}},{key:"handleSelectionsChange",value:function(){this.game.isSelections&&(this.master&&this.game.detectAllSelectionsSubmitted()&&this.dispatchReveal(),this.renderers.selections.renderWaiting({players:this.players,selections:this.game.selections}))}},{key:"handleError",value:function(e){alert(e)}},{key:"initializeGame",value:function(e){var t=this,n=e.game,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c&&i&&this._devCreateStubbedPlayers(n.id),this.playerId=this.user.id,this.gameId=n.id,this.master=n.masterId===this.playerId,this.players={},r.default.Players.globalListenerAdded(this.gameId,function(e){t.initializePlayer(e)}),r.default.Players.globalListenerRemoved(this.gameId,function(e){t.removePlayer(e)}),r.default.Users.globalUpdate(this.playerId,{currentGameId:this.gameId}),r.default.Players.globalFindOrCreate(this.user,this.gameId,this.master).then(function(e){t.game=new o.default({state:t}),r.default.Games.globalListener(t.gameId,function(e){e?(t.game.update(e),t.handleGameChanges()):(t.rendered=!1,r.default.Users.globalUpdate(t.playerId,{currentGameId:null}),t.launch.render({user:t.user}))})})}},{key:"initializePlayer",value:function(e){var t=this;this.players[e.id]=new u.default(this,e),r.default.Players.globalListenerPlayer(this.gameId,e.id,function(e){e&&t.players[e.id]&&t.players[e.id].update(e)}),!this.rendered&&this.player&&this.initializeRenderers(),this.player&&(this.renderers.start.player=this.player,this.renderers.start.render({players:this.players,gameId:this.gameId}))}},{key:"removePlayer",value:function(e){delete this.players[e.id]}},{key:"initializeRenderers",value:function(){var e=this;if(this.renderers)for(var t in this.renderers)this.renderers[t].remove();this.renderers={start:new s.default.Start(this.player,{dispatchStart:function(){return e.dispatchStart()},dispatchEnd:function(){return e.dispatchEnd()}}),selections:new s.default.Selections(this.player,{dispatchSelection:function(t,n){return e.dispatchSelection(t,n)},dispatchEnd:function(){return e.dispatchEnd()}}),reveal:new s.default.Reveal(this.player,{dispatchActions:function(){return e.dispatchActions()},back:function(){return r.default.Games.masterUpdateStatus(e.game.id,"selections")}}),actions:new s.default.Actions(this.player,{dispatchAction:function(t,n){return e.dispatchAction(t,n)},back:function(){return r.default.Games.masterUpdateStatus(e.game.id,"reveal")}}),results:new s.default.Results(this.player,{dispatchEnd:function(){return e.dispatchEnd()},dispatchLeave:function(){return e.dispatchLeave()},dispatchSelections:function(){return e.dispatchSelections()},dispatchNewRound:function(){return e.dispatchNewRound()}})},this.renderers.start.renderInitial(),this.renderers.selections.renderInitial(),this.renderers.reveal.renderInitial(),this.renderers.actions.renderInitial(),this.renderers.results.renderInitial(),this.rendered=!0}},{key:"dispatchStart",value:function(){var e=this;r.default.Players.masterResetStart(this.players).then(function(){e.dispatchNewRound()})}},{key:"dispatchSelections",value:function(){var e=this,t=this.game.generateTopics(),n=this.game.selections+1;r.default.Games.masterResetSelections(this.game.id,t,n).then(function(){r.default.Games.masterUpdateStatus(e.game.id,"selections")})}},{key:"dispatchReveal",value:function(){r.default.Games.masterUpdateStatus(this.game.id,"reveal")}},{key:"dispatchActions",value:function(){r.default.Games.masterUpdateStatus(this.game.id,"actions")}},{key:"dispatchNewRound",value:function(){var e=this,t=this.game.generateRoundData();r.default.Games.masterUpdateRoundData(this.game.id,t.game).then(function(){r.default.Players.masterUpdateRoundData(e.players,t.players).then(function(){r.default.Games.masterUpdateStatus(e.game.id,"selections")})})}},{key:"dispatchEnd",value:function(){var e=this;r.default.Players.masterDelete(this.game.id).then(function(){r.default.Games.masterDelete(e.game.id)})}},{key:"dispatchLeave",value:function(){var e=this;this.game.playerCount<=3?this.dispatchEnd():(r.default.Games.globalKill(this.game.id),r.default.Users.globalUpdate(this.playerId,{currentGameId:null}).then(function(){r.default.Players.globalLeave(e.game.id,e.user.id).then(function(){e.launch.render({user:e.user})})}))}},{key:"dispatchSelection",value:function(e){r.default.Games.globalSelection(this.game.id,this.user.id,e),c&&this.devDispatchSelection()}},{key:"devDispatchSelection",value:function(){if(this.player.isMaster)for(var e=(new l.default).topics,t=0;t<2;t++){var n=""+h+(t+1);if(this.players[n].isAlive){var i=e[Math.floor(Math.random()*e.length)][1];r.default.Games.globalSelection(this.game.id,n,i)}}}},{key:"dispatchAction",value:function(e){r.default.Games.globalAction(this.game.id,this.user.id,e),c&&this.devDispatchAction(e)}},{key:"devDispatchAction",value:function(e){if(this.player.isMaster)for(var t=0;t<2;t++){var n=""+h+(t+1),i=this.players[n].isAlive?e:this.player.id;r.default.Games.globalAction(this.game.id,n,i)}}},{key:"render",value:function(){var e=this,t=this.game.status,n={selections:function(){return e.renderers.selections.render(e.game,e.players)},reveal:function(){return e.renderers.reveal.render(e.game,e.players)},actions:function(){return e.renderers.actions.render(e.game,e.players)},results:function(){return e.renderers.results.render(e.game,e.players)}};return n[t]?n[t]():null}},{key:"_devCreateStubbedPlayers",value:function(e){for(var t=s.default.Launch._avatars,n=0;n<2;n++){var i=t[Math.floor(Math.random()*t.length)],a=s.default.Launch._avatarUrl(i);r.default.Players.globalCreate(e,{id:""+h+(n+1),name:"Player"+(n+1),avatar:a},!1)}}},{key:"player",get:function(){return this.players[this.playerId]}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"renderInitial",value:function(){var e=this.el("h1","Lexicon Standoff"),t=this.el("p","Your web app is out of date. Please close and reopen it.","description");this.append(this.$main,[e,t])}},{key:"render",value:function(){this.toggleSections()}},{key:"_name",get:function(){return"new-version"}},{key:"_eventsList",get:function(){return[]}}]),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"renderInitial",value:function(){var e=this.el("h1","Lexicon Standoff");this.el("p","Please Sign In","description");this.$auth=this.el("div",null,"firebaseui-auth"),this.append(this.$main,[e,this.$auth])}},{key:"render",value:function(){this.toggleSections()}},{key:"_name",get:function(){return"auth"}},{key:"_eventsList",get:function(){return[]}}]),t}();t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),s=i(n(1)),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"renderInitial",value:function(){var e=this,t=this.el("p","If you are on a mobile device, add this site to your home screen to get full screen.\n          iOS can only do this through Safari.","instruction"),n=this.el("p","OR","instruction"),i=this.el("p",'<br><a href="/instructions/">Instructions</a>',"instruction"),a=this.el("div",null,"instructions"),r=new s.default({content:"Sign Out",classname:"small link",clickEvent:this.events.signOut.bind(this)}),o=this.el("div",null,"item-group");this.$slug=this.el("input"),this.$editor=this.el("div",null,"editor"),this.new=new s.default({content:"Create Game",clickEvent:this.events.createGame.bind(this)}),this.join=new s.default({content:"Join",clickEvent:function(){return e.events.findGame(e.$slug.value.replace(/ /g,"").toLowerCase())}}),this.$user=this.el("p",null,"user-info"),this.$slug.setAttribute("type","text"),this.$slug.setAttribute("placeholder","gamesecret"),this.append(a,[r.$el]),this.append(o,[this.$slug,this.join.$el]),this.append(this.$main,[this.$user,o,n,this.new.$el,i,a,this.$editor]),this.$footer.appendChild(t)}},{key:"render",value:function(e){var t=this,n=e.user;this.$slug.value="",this.renderEditor(n),this.toggleSections(),this.$avatar=this.el("img"),this.$avatar.src=n.avatar,this.$name=this.el("span",n.name);var i=new s.default({content:"",clickEvent:function(){return t.$editor.classList.add("active")}});i.$el.appendChild(this.$avatar),i.$el.appendChild(this.$name),this.$user.innerHTML="",this.$user.appendChild(i.$el)}},{key:"renderEditor",value:function(e){this.$editor.innerHTML="",this._renderImageSelector(e),this._renderNameInput(e)}},{key:"_renderNameInput",value:function(e){var t=this,n=this.el("div",null,"item-group"),i=this.el("input"),a=new s.default({content:"Save",clickEvent:function(){return t.handleName(i.value)}});i.setAttribute("type","text"),i.setAttribute("placeholder","Your Name"),i.setAttribute("maxlength",8),i.value=e.name,this.append(n,[i,a.$el]),this.$editor.appendChild(n)}},{key:"_renderImageSelector",value:function(e){var n=this,i=this.el("ul",null,"image-select"),a=e.avatar;t._avatars.forEach(function(e){var r=n.el("li"),o=t._avatarUrl(e),l=new s.default({content:'<img src="'+o+'" />',clickEvent:function(){return n.handleAvatar(r,o)}});a===o&&(r.className="active"),r.appendChild(l.$el),i.appendChild(r)});if(e.image&&"https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg"!==e.image){var r=this.el("li"),o=new s.default({content:'<img src="'+e.image+'" />',clickEvent:function(){return n.handleAvatar(r,e.image)}});a===e.image&&(r.className="active"),r.appendChild(o.$el),i.appendChild(r)}this.$editor.appendChild(i)}},{key:"handleAvatar",value:function(e,t){var n=this.$editor.querySelector("li.active");n&&n.classList.remove("active"),e.classList.add("active"),this.$editor.classList.remove("active"),this.events.updateUser({avatar:t})}},{key:"handleName",value:function(e){e=e.substring(0,8),this.$editor.classList.remove("active"),this.events.updateUser({name:e})}},{key:"_name",get:function(){return"launch"}},{key:"_eventsList",get:function(){return["createGame","findGame","signOut","updateUser"]}}],[{key:"_avatarUrl",value:function(e){return t._avatarBase+"/"+e}},{key:"_avatarBase",get:function(){return"/assets"}},{key:"_avatars",get:function(){return["avatar-bear.svg","avatar-donkey.svg","avatar-raccoon.svg","avatar-squirrel.svg","avatar-elephant.svg","avatar-mouse.svg","avatar-panda.svg","avatar-deer.svg","avatar-pig.svg","avatar-cat.svg","avatar-dog.svg","avatar-wolf.svg","avatar-monkey.svg","avatar-fox.svg","avatar-zebra.svg","avatar-rabbit.svg"]}}]),t}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),s=i(n(1)),o=i(n(2)),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"renderInitial",value:function(){if(this.$h1=this.el("h1","Waiting for Players..."),this.$header.appendChild(this.$h1),this.$secretLabel=this.el("p","Game Secret","label"),this.$secret=this.el("p",null,"secret"),this.append(this.$main,[this.$secretLabel,this.$secret]),this.players=new o.default("flex-list flex-list-small flex-list-quarter"),this.append(this.$main,this.players.elements),this.$roles=this.el("p",null,"description"),this.$main.appendChild(this.$roles),this.player.isMaster){var e=this.el("p","Once everyone is here, start the game. Players can join this Game using the Game Secret above.","instruction"),t=this.el("div",null,"item-group"),n=new s.default({content:"Cancel",clickEvent:this.events.dispatchEnd.bind(this),classname:"flex"});this.start=new s.default({content:"Start",clickEvent:this.events.dispatchStart.bind(this),classname:"flex"}),this.append(t,[n.$el,this.start.$el]),this.append(this.$footer,[e,t])}}},{key:"render",value:function(e){var t=e.players,n=e.gameId;this.players.reset();var i=Object.keys(t).length,a=this._distributor(i),r=3-i,s=r>0,o=r>1?"Players":"Player";if(this.players.title(s?"Need at least "+r+" more "+o:""),s)this.$roles.innerHTML="";else{var l=1===a[1]?"Imposter":"Imposters";this.$roles.innerHTML="There will be "+a[0]+" Agents and "+a[1]+" "+l+"."}this.player.isMaster&&this.start&&(s?this.start.disable():this.start.enable()),this.$secret.innerHTML="“"+n+"”",this.toggleSections();for(var u in t){var c=t[u],h=c.avatar,d=c.name,f='<span class="user '+(u===this.player.id?"you":"")+'"><img src="'+h+'" /> <span>'+d+"</span></span>";this.players.add(f)}}},{key:"_distributor",value:function(e){var t=Math.max(Math.floor(.75*e),1);return[t,e-t]}},{key:"_name",get:function(){return"start"}},{key:"_eventsList",get:function(){return["dispatchStart","dispatchEnd"]}}]),t}();t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),s=i(n(1)),o=i(n(2)),l=i(n(8)),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"renderInitial",value:function(){this.$h1=this.el("h1"),this.$topics=this.el("p",null,"topics"),this.$desc=this.el("p",null,"description"),this.$input=this.el("input",null,"full margin"),this.$input.setAttribute("type","text"),this.$input.setAttribute("placeholder","Your Word"),this.$input.setAttribute("maxlength","16"),this.$header.appendChild(this.$h1),this.append(this.$main,[this.$topics,this.$desc,this.$input]),this.waiting=new o.default("flex-list flex-list-small flex-list-quarter"),this.append(this.$main,this.waiting.elements);var e=this.el("p","Enter your choice above then submit it below.","instruction"),t=this.el("div",null,"item-group");if(this.submit=new s.default({content:"Submit",clickEvent:this.handleSubmit.bind(this),classname:"flex"}),this.player.isMaster){var n=new s.default({content:"◀",clickEvent:this.handleConfirmEnd.bind(this),classname:"warning"});t.appendChild(n.$el)}this.append(t,[this.submit.$el]),this.append(this.$footer,[e,t])}},{key:"handleSubmit",value:function(){var e=this.$input.value;e.replace(/ /g,"").length>0?(this.events.dispatchSelection(e),this.$input.classList.add("hide"),this.submit.disable()):alert('"'+e+'" is not valid. Try again.')}},{key:"render",value:function(e,t){this.topics=e.topics.map(function(e){return e[1]}),this.$input.value="";var n=e.topics,i=e.selections,a=e.confusionVotes;e.playerCount,e.playerCountAlive;if(n=n.map(function(e){return[e[0],e[1].split(" ").join("&nbsp;")]}),this.$h1.innerHTML=this.roleHeader("Selections"),this.player.isAlive){i[this.player.id]?(this.$input.classList.add("hide"),this.submit.disable()):(this.$input.classList.remove("hide"),this.submit.enable());var r="",s=void 0;if(this.player.isConfused){var o=a[this.player.id];r+="\n          "+o+" dead "+(1===o?"Player":"Players")+" confused you with an extra Topic! "}s=this.player.isImposter?this.player.isConfused?this._shuffledHtml([0,1,2,3],n):this._shuffledHtml([0,1,2],n):this.player.isConfused?this._shuffledHtml([0,1,3],n):this._shuffledHtml([0,1],n),this.player.isConfused||this.player.isImposter?r+="Enter one word that you associate with the <strong>two</strong> Agent Topics.":r="Enter one word that you associate with both of the Topics above.",this.$topics.innerHTML=s,this.$desc.innerHTML=r}else this.$input.classList.add("hide"),this.submit.disable(),this.$topics.innerHTML=this._shuffledHtml([0,1],n),this.$desc.innerHTML="You're dead. You don't get a selection.";this.toggleSections(),this.renderWaiting({players:t,selections:i})}},{key:"renderWaiting",value:function(e){var t=e.players,n=e.selections;this.waiting.reset(),this.waiting.title("Waiting on...");for(var i in t)n&&n[i]||t[i].isAlive&&this.waiting.add(this.userSpan(t[i]))}},{key:"handleConfirmEnd",value:function(){window.confirm("Are you sure you want to end the game?")&&this.events.dispatchEnd()}},{key:"_shuffledHtml",value:function(e,t){if(2===e.length)return"“"+t[e[0]][1]+"” &amp; “"+t[e[1]][1]+"”";var n=(0,l.default)(e).map(function(e){return t[e][1]}),i="";return n.forEach(function(e,t){t<n.length-1?i+="“"+e+"”, ":i+=" “"+e+"”"}),i}},{key:"_name",get:function(){return"selections"}},{key:"_eventsList",get:function(){return["dispatchSelection","dispatchEnd"]}}]),t}();t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),s=i(n(1)),o=i(n(2)),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"renderInitial",value:function(){if(this.$h1=this.el("h1"),this.$header.appendChild(this.$h1),this.$topics=this.el("p",null,"topics"),this.$desc=this.el("p",null,"description"),this.append(this.$main,[this.$topics,this.$desc]),this.selections=new o.default("flex-list flex-list-small flex-list-selections"),this.selections.title("Selections"),this.append(this.$main,this.selections.elements),this.player.isMaster){var e=this.el("p","Players question each other and discuss who they think is an Imposter.\n          Once everyone is ready to vote, proceed.","instruction"),t=this.el("div",null,"item-group"),n=new s.default({content:"◀",clickEvent:this.events.back.bind(this)}),i=new s.default({content:"Proceed",clickEvent:this.events.dispatchActions.bind(this),classname:"flex"});this.append(t,[n.$el,i.$el]),this.append(this.$footer,[e,t])}}},{key:"render",value:function(e,t){var n=e.topics,i=(e.playerCount,e.selections);this.selections.reset();for(var a in i)this.selections.add("\n        "+this.userSpan(t[a])+'\n        <span class="selection">'+i[a]+"</span>\n      ");this.$h1.innerHTML=this.roleHeader("Reveal"),this.$topics.innerHTML="“"+n[0][1]+"” &amp; “"+n[1][1]+"”",this.player.isAlive?this.$desc.innerHTML="These were the two Topics. Explain why you chose your word.":this.$desc.innerHTML="You are dead. You can still question Players.",this.toggleSections()}},{key:"_name",get:function(){return"reveal"}},{key:"_eventsList",get:function(){return["dispatchActions","back"]}}]),t}();t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(0)),s=i(n(1)),o=i(n(2)),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"renderInitial",value:function(){var e=this;if(this.$h1=this.el("h1"),this.$header.appendChild(this.$h1),this.$desc=this.el("p",null,"description"),this.$main.appendChild(this.$desc),this.actions=new o.default,this.append(this.$main,this.actions.elements),this.waiting=new o.default("flex-list flex-list-small flex-list-quarter"),this.append(this.$main,this.waiting.elements),this.act=new s.default({content:"",clickEvent:function(){var t=e.$section.querySelector(":checked").value;e.events.dispatchAction(t),e.act.disable(),e.$main.classList.add("inactive")}}),this.player.isMaster){var t=this.el("p","Play will proceed after every Player submits an Action.","instruction"),n=this.el("div",null,"item-group"),i=new s.default({content:"◀",clickEvent:this.events.back.bind(this)});this.append(n,[i.$el,this.act.$el]),this.act.$el.classList.add("flex"),this.append(this.$footer,[t,n])}else this.act.$el.classList.add("full"),this.append(this.$footer,[this.act.$el])}},{key:"render",value:function(e,t){var n=e.actions,i=e.imposterCount,a=(e.playerCount,e.playerCountAlive);if(this.$main.classList.remove("inactive"),this.act.enable(),this.actions.reset(),this.toggleSections(),this.$h1.innerHTML=this.roleHeader("Actions"),n&&n[this.player.id])this.actions.title("You have already voted!"),this.act.disable(),this.$footer.classList.add("hide");else{this.$footer.classList.remove("hide"),this.actions.title("Select a Player");var r=Object.keys(t).length-i,s=this._pluralize(i,"Imposter"),o=this._pluralize(r,"Agent"),l=this.player.isAlive,u=2===a,c=l||u?"Kill":"Confuse",h=l||u?"":"You’re Dead.";this.act.content(c),this.$desc.innerHTML=" "+(u?"This is the final vote!":"")+"\n        "+h+" Select a Player to <strong>"+c+"</strong>.",this.player.isAlive&&(this.$desc.innerHTML+=" There are "+o+" and "+s+" in total.");var d=!0;for(var f in t)if(f!==this.player.id){var p=t[f];if(p.isAlive){var v=d?"checked":"";d&&(d=!1),this.actions.add('\n              <input id="'+f+'" value="'+f+'"\n                type="radio" name="actions" '+v+' />\n              <label for="'+f+'">'+this.userSpan(p)+"</label>\n            ")}}}this.renderWaiting({players:t,actions:n})}},{key:"renderWaiting",value:function(e){var t=e.players,n=e.actions;this.waiting.reset(),this.waiting.title("Waiting on...");for(var i in t)n&&n[i]||this.waiting.add(this.userSpan(t[i]))}},{key:"_pluralize",value:function(e,t){return 1===e?"1 "+t:e+" "+t+"s"}},{key:"_name",get:function(){return"actions"}},{key:"_eventsList",get:function(){return["dispatchAction","back"]}}]),t}();t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(9)),s=i(n(0)),o=i(n(1)),l=i(n(2)),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),a(t,[{key:"renderInitial",value:function(){this.$h1=this.el("h1"),this.$header.appendChild(this.$h1),this.killed=new l.default,this.append(this.$main,this.killed.elements),this.survivors=new l.default("flex-list flex-list-small flex-list-quarter"),this.append(this.$main,this.survivors.elements),this.imposters=new l.default("flex-list flex-list-small flex-list-quarter"),this.append(this.$main,this.imposters.elements),this.$desc=this.el("div"),this.$main.appendChild(this.$desc),this.extra2=new l.default("flex-list flex-list-small"),this.append(this.$main,this.extra2.elements),this.$score=this.el("p",null,"description"),this.$main.appendChild(this.$score),this.player.isMaster?this.renderInitialMaster():this.renderInitialLeave()}},{key:"renderInitialMaster",value:function(){var e=this.el("p","Once everyone is ready, proceed below.","instruction"),t=new o.default({content:"Continue",clickEvent:this.events.dispatchNewRound.bind(this),classname:"flex"}),n=new o.default({content:"◀",clickEvent:this.confirmEnd.bind(this),classname:"warning"});this.continue=new o.default({content:"Proceed",clickEvent:this.events.dispatchSelections.bind(this),classname:"full"}),this.$group=this.el("div",null,"item-group"),this.append(this.$group,[n.$el,t.$el]),this.append(this.$footer,[e,this.$group,this.continue.$el])}},{key:"renderInitialLeave",value:function(){var e=this;this.leave=new o.default({content:"Leave Game",clickEvent:function(){return e.confirmLeave()},classname:"full"}),this.append(this.$footer,[this.leave.$el])}},{key:"confirmEnd",value:function(){window.confirm("Are you sure you want to end the game?")&&this.events.dispatchEnd()}},{key:"confirmLeave",value:function(){window.confirm("Are you sure you want to leave the game?")&&this.events.dispatchLeave()}},{key:"render",value:function(e,t){var n=this,i=e.aliveCounts,a=(e.aliveIds,e.deadCounts,e.deadIds,e.roundOver),r=e.killVotes,s=e.killedIds;this.killed.reset(),this.survivors.reset(),this.imposters.reset(),this.extra2.reset(),this.$score.innerHTML="",this.$section.className=this.$section.className.replace(/(win-\d+)|(lose-\d+)/g,""),this.toggleSections(),this.$h1.innerHTML=this.roleHeader("Results");var o=r[s[0]],l=1===o?"Vote":"Votes";if(this.killed.title("Killed this Round by "+o+" "+l),s.forEach(function(e){n.killed.add(n.userSpan(t[e],"dead"))}),this.survivors.title("Survivors"),a){this.leave&&this.leave.enable(),this.imposters.title("Imposters"),this.extra2.title("Standings");var u=this._winLoseClass(i),c=this._winnerText(i),h=this._roundPointsText(i);this.$section.classList.add(u),this.$desc.innerHTML='\n        <p class="description">\n          '+c+" "+this._playerPoints(!0)+" "+h+"\n        </p>\n      ";var d=!1;Object.keys(t).sort(function(e,n){var i=t[e].score,a=t[n].score;return i>a?-1:i<a?1:0}).forEach(function(e){var i=t[e],a='<span class="score">'+i.score+"</span>",r=n.userSpan(i)+" "+a;n.extra2.add(r),i.isImposter&&n.imposters.add(n.userSpan(i)),i.isAlive&&(n.survivors.add(n.userSpan(i)),d=!0)}),d||(this.survivors.$ul.innerHTML='<li class="empty">None</li>')}else{this.leave&&this.leave.disable(),this.extra2.title("Graveyard"),this.extra2.$ul.classList.remove("flex-list-half"),this.$desc.innerHTML='\n        <p class="description">'+this._playerPoints(!1)+"\n          The Round is in progress, roles stay the same.</p>\n      ";for(var f in t){var p=t[f];p.isAlive?this.survivors.add(this.userSpan(p)):this.extra2.add(this.userSpan(p,"dead"))}}this.player.isMaster&&this.renderMaster(a)}},{key:"renderMaster",value:function(e){e?(this.continue.$el.classList.add("hide"),this.$group.classList.remove("hide")):(this.continue.$el.classList.remove("hide"),this.$group.classList.add("hide"))}},{key:"_points",value:function(e){return'<span class="points">'+e+"</span>"}},{key:"_winLoseClass",value:function(e){var t=e.imposter,n=e.agent,i=Math.ceil(6*Math.random()),a=Math.ceil(10*Math.random()),r=this.player.role;return t>0?"imposter"===r?"win-"+i:"lose-"+a:n>0&&"agent"===r?"win-"+i:"lose-"+a}},{key:"_winnerText",value:function(e){var t=e.imposter,n=e.agent,i=this.player.capitalizedRole;if(t>0){return(this.player.isImposter?this._success():this._failure())+' The <span class="role">'+i+"s</span> "+(this.player.isImposter?"won":"lost")+"."}if(n>0){return(this.player.isAgent?this._success():this._failure())+' The <span class="role">'+i+"s</span> "+(this.player.isAgent?"won":"lost")+"."}return"Everyone died!"}},{key:"_roundPointsText",value:function(e){var t=e.imposter,n=e.agent,i=this._points(r.default.winPoints);return t>0?"Each Imposter scored an additional "+i+".":n>0?"Each Agent scored an additional "+i+".":"No one scored additional points."}},{key:"_playerPoints",value:function(e){var t=this.player._,n=t.scoreRound,i=t.role,a=t.alive,s=a?r.default.survivePoints[i]:0,o=this._points(s),l=e?"in total":"so far";return a?"You scored "+o+" this Selection,\n        and "+this._points(n)+" "+l+" this Round.":"You are dead and scored "+this._points(n)+" "+l+" this Round."}},{key:"_success",value:function(){var e=["Awesome","Radical","Great job","Wow","Kapow"];return e[Math.floor(Math.random()*e.length)]+"!"}},{key:"_failure",value:function(){var e=["Shucks","Darn it all","Ugh","Whelp"];return e[Math.floor(Math.random()*e.length)]+"!"}},{key:"_name",get:function(){return"results"}},{key:"_eventsList",get:function(){return["dispatchEnd","dispatchSelections","dispatchNewRound","dispatchLeave"]}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t,n){var i=n.id,a=n.gameId,r=n.name,s=n.avatar;n.master;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=i,this.name=r,this.avatar=s,this.gameId=a,this.state=t,this._={}}return i(e,[{key:"update",value:function(e){this._=e}},{key:"score",get:function(){return this._.score}},{key:"scoreRound",get:function(){return this._.scoreRound}},{key:"role",get:function(){return this._.role}},{key:"isAgent",get:function(){return"agent"===this.role}},{key:"isImposter",get:function(){return!this.isAgent}},{key:"isAlive",get:function(){return this._.alive}},{key:"isDead",get:function(){return!this.isAlive}},{key:"isMaster",get:function(){return this._.master}},{key:"isConfused",get:function(){return this._.confused}},{key:"capitalizedRole",get:function(){return this._.role.charAt(0).toUpperCase()+this._.role.slice(1)}},{key:"key",get:function(){return this.gameId+"/"+this.id}},{key:"_ref",get:function(){return"/players/"+this.key}}]),e}();t.default=a}]);